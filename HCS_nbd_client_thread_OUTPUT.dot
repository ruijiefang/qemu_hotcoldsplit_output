digraph "CFG for 'nbd_client_thread' function" {
	label="CFG for 'nbd_client_thread' function";

	Node0x564678c21fc0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %info = alloca %struct.NBDExportInfo, align 8\l  %show_parts_thread = alloca i64, align 8\l  %local_error = alloca %struct.Error*, align 8\l  call void @llvm.dbg.value(metadata i8* %arg, metadata !947, metadata\l... !DIExpression()), !dbg !959\l  call void @llvm.dbg.value(metadata i8* %arg, metadata !948, metadata\l... !DIExpression()), !dbg !959\l  %0 = getelementptr inbounds %struct.NBDExportInfo, %struct.NBDExportInfo*\l... %info, i64 0, i32 0, !dbg !960\l  call void @llvm.lifetime.start.p0i8(i64 88, i8* nonnull %0) #14, !dbg !960\l  call void @llvm.dbg.declare(metadata %struct.NBDExportInfo* %info, metadata\l... !949, metadata !DIExpression()), !dbg !961\l  %name = getelementptr inbounds %struct.NBDExportInfo, %struct.NBDExportInfo*\l... %info, i64 0, i32 2, !dbg !962\l  call void @llvm.memset.p0i8.i64(i8* nonnull align 8 dereferenceable(88) %0,\l... i8 0, i64 88, i1 false), !dbg !962\l  %call = tail call noalias i8* @g_strdup(i8* getelementptr inbounds ([1 x\l... i8], [1 x i8]* @.str.54, i64 0, i64 0)) #14, !dbg !963\l  store i8* %call, i8** %name, align 8, !dbg !962\l  %1 = bitcast i64* %show_parts_thread to i8*, !dbg !964\l  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %1) #14, !dbg !964\l  %2 = bitcast %struct.Error** %local_error to i8*, !dbg !965\l  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %2) #14, !dbg !965\l  call void @llvm.dbg.value(metadata %struct.Error* null, metadata !955,\l... metadata !DIExpression()), !dbg !959\l  store %struct.Error* null, %struct.Error** %local_error, align 8, !dbg !966\l  %call1 = tail call %struct.QIOChannelSocket* @qio_channel_socket_new() #14,\l... !dbg !967\l  call void @llvm.dbg.value(metadata %struct.QIOChannelSocket* %call1,\l... metadata !950, metadata !DIExpression()), !dbg !959\l  %3 = load %struct.SocketAddress*, %struct.SocketAddress** @saddr, align 8,\l... !dbg !968\l  call void @llvm.dbg.value(metadata %struct.Error** %local_error, metadata\l... !955, metadata !DIExpression(DW_OP_deref)), !dbg !959\l  %call2 = call i32 @qio_channel_socket_connect_sync(%struct.QIOChannelSocket*\l... %call1, %struct.SocketAddress* %3, %struct.Error** nonnull %local_error) #14,\l... !dbg !970\l  %cmp = icmp slt i32 %call2, 0, !dbg !971\l  br i1 %cmp, label %if.then, label %if.end, !dbg !972\l|{<s0>T|<s1>F}}"];
	Node0x564678c21fc0:s0 -> Node0x564678c267f0;
	Node0x564678c21fc0:s1 -> Node0x564678c26860;
	Node0x564678c267f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e36c5570",label="{if.then:                                          \l  %4 = load %struct.Error*, %struct.Error** %local_error, align 8, !dbg !973\l  call void @llvm.dbg.value(metadata %struct.Error* %4, metadata !955,\l... metadata !DIExpression()), !dbg !959\l  call void @error_report_err(%struct.Error* %4) #14, !dbg !975\l  br label %cleanup, !dbg !976\l}"];
	Node0x564678c267f0 -> Node0x564678c2f570;
	Node0x564678c26860 [shape=record,color="#b70d28ff", style=filled, fillcolor="#d0473d70",label="{if.end:                                           \l  %5 = getelementptr %struct.QIOChannelSocket, %struct.QIOChannelSocket*\l... %call1, i64 0, i32 0, i32 0, !dbg !977\l  %call3 = call %struct.Object* @object_dynamic_cast_assert(%struct.Object*\l... %5, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str.100, i64 0, i64\l... 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]* @.str.94, i64 0, i64\l... 0), i32 275, i8* getelementptr inbounds ([18 x i8], [18 x i8]*\l... @__func__.nbd_client_thread, i64 0, i64 0)) #14, !dbg !977\l  %6 = bitcast %struct.Object* %call3 to %struct.QIOChannel*, !dbg !977\l  call void @llvm.dbg.value(metadata %struct.Error** %local_error, metadata\l... !955, metadata !DIExpression(DW_OP_deref)), !dbg !959\l  %call4 = call i32 @nbd_receive_negotiate(%struct.AioContext* null,\l... %struct.QIOChannel* %6, %struct.QCryptoTLSCreds* null, i8* null,\l... %struct.QIOChannel** null, %struct.NBDExportInfo* nonnull %info,\l... %struct.Error** nonnull %local_error) #14, !dbg !978\l  call void @llvm.dbg.value(metadata i32 %call4, metadata !952, metadata\l... !DIExpression()), !dbg !959\l  %cmp5 = icmp slt i32 %call4, 0, !dbg !979\l  br i1 %cmp5, label %if.then6, label %if.end9, !dbg !981\l|{<s0>T|<s1>F}}"];
	Node0x564678c26860:s0 -> Node0x564678c282a0;
	Node0x564678c26860:s1 -> Node0x564678c28c70;
	Node0x564678c282a0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f08b6e70",label="{if.then6:                                         \l  %7 = load %struct.Error*, %struct.Error** %local_error, align 8, !dbg !982\l  call void @llvm.dbg.value(metadata %struct.Error* %7, metadata !955,\l... metadata !DIExpression()), !dbg !959\l  %tobool = icmp eq %struct.Error* %7, null, !dbg !982\l  br i1 %tobool, label %out_socket, label %if.then7, !dbg !985\l|{<s0>T|<s1>F}}"];
	Node0x564678c282a0:s0 -> Node0x564678c297b0;
	Node0x564678c282a0:s1 -> Node0x564678c29030;
	Node0x564678c29030 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7a88970",label="{if.then7:                                         \l  call void @error_report_err(%struct.Error* nonnull %7) #14, !dbg !986\l  br label %out_socket, !dbg !988\l}"];
	Node0x564678c29030 -> Node0x564678c297b0;
	Node0x564678c28c70 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e36c5570",label="{if.end9:                                          \l  %call10 = call i32 (i8*, i32, ...) @open64(i8* %arg, i32 2) #14, !dbg !989\l  call void @llvm.dbg.value(metadata i32 %call10, metadata !951, metadata\l... !DIExpression()), !dbg !959\l  %cmp11 = icmp slt i32 %call10, 0, !dbg !990\l  br i1 %cmp11, label %if.then12, label %if.end13, !dbg !992\l|{<s0>T|<s1>F}}"];
	Node0x564678c28c70:s0 -> Node0x564678c29ba0;
	Node0x564678c28c70:s1 -> Node0x564678c29c10;
	Node0x564678c29ba0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7a88970",label="{if.then12:                                        \l  call void (i8*, ...) @error_report(i8* getelementptr inbounds ([22 x i8],\l... [22 x i8]* @.str.126, i64 0, i64 0), i8* %arg) #14, !dbg !993\l  br label %out_socket, !dbg !995\l}"];
	Node0x564678c29ba0 -> Node0x564678c297b0;
	Node0x564678c29c10 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f08b6e70",label="{if.end13:                                         \l  call void @llvm.dbg.value(metadata %struct.Error** %local_error, metadata\l... !955, metadata !DIExpression(DW_OP_deref)), !dbg !959\l  %call14 = call i32 @nbd_init(i32 %call10, %struct.QIOChannelSocket* %call1,\l... %struct.NBDExportInfo* nonnull %info, %struct.Error** nonnull %local_error)\l... #14, !dbg !996\l  call void @llvm.dbg.value(metadata i32 %call14, metadata !952, metadata\l... !DIExpression()), !dbg !959\l  %cmp15 = icmp slt i32 %call14, 0, !dbg !997\l  br i1 %cmp15, label %if.then16, label %if.end17, !dbg !999\l|{<s0>T|<s1>F}}"];
	Node0x564678c29c10:s0 -> Node0x564678c2b1d0;
	Node0x564678c29c10:s1 -> Node0x564678c2b220;
	Node0x564678c2b1d0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f6bfa670",label="{if.then16:                                        \l  %8 = load %struct.Error*, %struct.Error** %local_error, align 8, !dbg !1000\l  call void @llvm.dbg.value(metadata %struct.Error* %8, metadata !955,\l... metadata !DIExpression()), !dbg !959\l  call void @error_report_err(%struct.Error* %8) #14, !dbg !1002\l  br label %out_fd, !dbg !1003\l}"];
	Node0x564678c2b1d0 -> Node0x564678c2b630;
	Node0x564678c2b220 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7a88970",label="{if.end17:                                         \l  call void @llvm.dbg.value(metadata i64* %show_parts_thread, metadata !953,\l... metadata !DIExpression(DW_OP_deref)), !dbg !959\l  %call18 = call i32 @pthread_create(i64* nonnull %show_parts_thread,\l... %union.pthread_attr_t* null, i8* (i8*)* nonnull @show_parts, i8* %arg) #14,\l... !dbg !1004\l  %.b = load i1, i1* @verbose, align 4, !dbg !1005\l  br i1 %.b, label %if.then20, label %if.else, !dbg !1007\l|{<s0>T|<s1>F}}"];
	Node0x564678c2b220:s0 -> Node0x5646789ff890;
	Node0x564678c2b220:s1 -> Node0x564678c2be40;
	Node0x5646789ff890 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then20:                                        \l  %9 = load %struct._IO_FILE*, %struct._IO_FILE** @stderr, align 8, !dbg !1008\l  %10 = load i8*, i8** @srcpath, align 8, !dbg !1010\l  %call21 = call i32 (%struct._IO_FILE*, i8*, ...) @fprintf(%struct._IO_FILE*\l... %9, i8* getelementptr inbounds ([38 x i8], [38 x i8]* @.str.127, i64 0, i64\l... 0), i8* %arg, i8* %10) #15, !dbg !1011\l  br label %if.end23, !dbg !1012\l}"];
	Node0x5646789ff890 -> Node0x564678c2bdf0;
	Node0x564678c2be40 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7a88970",label="{if.else:                                          \l  %call22 = call i32 @dup2(i32 1, i32 2) #14, !dbg !1013\l  br label %if.end23\l}"];
	Node0x564678c2be40 -> Node0x564678c2bdf0;
	Node0x564678c2bdf0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7a88970",label="{if.end23:                                         \l  %call24 = call i32 @nbd_client(i32 %call10) #14, !dbg !1015\l  call void @llvm.dbg.value(metadata i32 %call24, metadata !952, metadata\l... !DIExpression()), !dbg !959\l  %tobool25 = icmp eq i32 %call24, 0, !dbg !1016\l  br i1 %tobool25, label %if.end27, label %out_fd, !dbg !1018\l|{<s0>T|<s1>F}}"];
	Node0x564678c2bdf0:s0 -> Node0x564678c2e1c0;
	Node0x564678c2bdf0:s1 -> Node0x564678c2b630;
	Node0x564678c2e1c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#eed0c070",label="{if.end27:                                         \l  %call28 = call i32 @close(i32 %call10) #14, !dbg !1019\l  call void @object_unref(%struct.Object* %5) #14, !dbg !1020\l  br label %cleanup, !dbg !1021\l}"];
	Node0x564678c2e1c0 -> Node0x564678c2f570;
	Node0x564678c2b630 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f4987a70",label="{out_fd:                                           \l  call void @llvm.dbg.label(metadata !956), !dbg !1022\l  %call32 = call i32 @close(i32 %call10) #14, !dbg !1023\l  br label %out_socket, !dbg !1023\l}"];
	Node0x564678c2b630 -> Node0x564678c297b0;
	Node0x564678c297b0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#d24b4070",label="{out_socket:                                       \l  call void @llvm.dbg.label(metadata !957), !dbg !1024\l  call void @object_unref(%struct.Object* %5) #14, !dbg !1025\l  br label %cleanup, !dbg !1025\l}"];
	Node0x564678c297b0 -> Node0x564678c2f570;
	Node0x564678c2f570 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{cleanup:                                          \l  %retval.0 = phi i8* [ null, %if.end27 ], [ inttoptr (i64 1 to i8*),\l... %out_socket ], [ inttoptr (i64 1 to i8*), %if.then ], !dbg !959\l  %11 = load i8*, i8** %name, align 8, !dbg !959\l  call void @g_free(i8* %11) #14, !dbg !959\l  %call34 = call i32 @getpid() #14, !dbg !959\l  %call35 = call i32 @kill(i32 %call34, i32 15) #14, !dbg !959\l  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %2) #14, !dbg !1026\l  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %1) #14, !dbg !1026\l  call void @llvm.lifetime.end.p0i8(i64 88, i8* nonnull %0) #14, !dbg !1026\l  ret i8* %retval.0, !dbg !1026\l}"];
}
