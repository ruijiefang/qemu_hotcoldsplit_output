digraph "CFG for 'worker_thread' function" {
	label="CFG for 'worker_thread' function";

	Node0x55c7a828fdc0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{entry:\l  %t.i = alloca %struct.QemuThread, align 8\l  call void @llvm.dbg.value(metadata i8* %opaque, metadata !447, metadata\l... !DIExpression()), !dbg !468\l  call void @llvm.dbg.value(metadata i8* %opaque, metadata !448, metadata\l... !DIExpression()), !dbg !468\l  %0 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !469\l  %1 = inttoptr i64 %0 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !469\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %1,\l... metadata !449, metadata !DIExpression()), !dbg !471\l  %lock = getelementptr inbounds i8, i8* %opaque, i64 16, !dbg !472\l  %2 = bitcast i8* %lock to %struct.QemuMutex*, !dbg !472\l  tail call void %1(%struct.QemuMutex* nonnull %2, i8* getelementptr inbounds\l... ([19 x i8], [19 x i8]* @.str, i64 0, i64 0), i32 80) #13, !dbg !472, !prof\l... !473\l  %pending_threads = getelementptr inbounds i8, i8* %opaque, i64 212, !dbg !474\l  %3 = bitcast i8* %pending_threads to i32*, !dbg !474\l  %4 = load i32, i32* %3, align 4, !dbg !475\l  %dec = add i32 %4, -1, !dbg !475\l  store i32 %dec, i32* %3, align 4, !dbg !475\l  call void @llvm.dbg.value(metadata i8* %opaque, metadata !476, metadata\l... !DIExpression()) #13, !dbg !487\l  %5 = bitcast %struct.QemuThread* %t.i to i8*, !dbg !489\l  call void @llvm.lifetime.start.p0i8(i64 8, i8* nonnull %5) #13, !dbg !489\l  call void @llvm.dbg.declare(metadata %struct.QemuThread* %t.i, metadata\l... !481, metadata !DIExpression()) #13, !dbg !490\l  %new_threads.i = getelementptr inbounds i8, i8* %opaque, i64 208, !dbg !491\l  %6 = bitcast i8* %new_threads.i to i32*, !dbg !491\l  %7 = load i32, i32* %6, align 8, !dbg !491\l  %tobool.i = icmp eq i32 %7, 0, !dbg !493\l  br i1 %tobool.i, label %do_spawn_thread.exit, label %if.end.i, !dbg !494,\l... !prof !495\l|{<s0>T|<s1>F}}"];
	Node0x55c7a828fdc0:s0 -> Node0x55c7a8298350;
	Node0x55c7a828fdc0:s1 -> Node0x55c7a827d5b0;
	Node0x55c7a827d5b0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end.i:                                         \l  call void @llvm.dbg.value(metadata i8* %opaque, metadata !448, metadata\l... !DIExpression()), !dbg !468\l  call void @llvm.dbg.value(metadata i8* %opaque, metadata !476, metadata\l... !DIExpression()) #13, !dbg !487\l  %dec.i = add i32 %7, -1, !dbg !496\l  store i32 %dec.i, i32* %6, align 8, !dbg !496\l  store i32 %4, i32* %3, align 4, !dbg !497\l  call void @qemu_thread_create(%struct.QemuThread* nonnull %t.i, i8*\l... getelementptr inbounds ([7 x i8], [7 x i8]* @.str.7, i64 0, i64 0), i8*\l... (i8*)* nonnull @worker_thread, i8* nonnull %opaque, i32 1) #13, !dbg !498\l  br label %do_spawn_thread.exit, !dbg !499\l}"];
	Node0x55c7a827d5b0 -> Node0x55c7a8298350;
	Node0x55c7a8298350 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{do_spawn_thread.exit:                             \l  call void @llvm.lifetime.end.p0i8(i64 8, i8* nonnull %5) #13, !dbg !499\l  %8 = getelementptr inbounds i8, i8* %opaque, i64 216, !dbg !500\l  %9 = load i8, i8* %8, align 8, !dbg !500, !range !501\l  %tobool97 = icmp eq i8 %9, 0, !dbg !500\l  br i1 %tobool97, label %do.body.preheader.lr.ph, label %while.end, !dbg\l... !502, !prof !495\l|{<s0>T|<s1>F}}"];
	Node0x55c7a8298350:s0 -> Node0x55c7a820f7b0;
	Node0x55c7a8298350:s1 -> Node0x55c7a8294aa0;
	Node0x55c7a820f7b0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{do.body.preheader.lr.ph:                          \l  %idle_threads = getelementptr inbounds i8, i8* %opaque, i64 204, !dbg !503\l  %10 = bitcast i8* %idle_threads to i32*, !dbg !503\l  %sem = getelementptr inbounds i8, i8* %opaque, i64 120, !dbg !503\l  %11 = bitcast i8* %sem to %struct.QemuSemaphore*, !dbg !503\l  %request_list = getelementptr inbounds i8, i8* %opaque, i64 184, !dbg !504\l  %tqh_first = bitcast i8* %request_list to %struct.ThreadPoolElement**, !dbg\l... !504\l  %tql_prev28 = getelementptr inbounds i8, i8* %opaque, i64 192, !dbg !505\l  %12 = bitcast i8* %tql_prev28 to i64*, !dbg !505\l  %completion_bh = getelementptr inbounds i8, i8* %opaque, i64 8, !dbg !504\l  %13 = bitcast i8* %completion_bh to %struct.QEMUBH**, !dbg !504\l  br label %do.body.preheader, !dbg !502\l}"];
	Node0x55c7a820f7b0 -> Node0x55c7a7d0f0b0;
	Node0x55c7a7d0f0b0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d8564670",label="{do.body.preheader:                                \l  %.pre = load i32, i32* %10, align 4, !dbg !508\l  br label %do.body, !dbg !509\l}"];
	Node0x55c7a7d0f0b0 -> Node0x55c7a8295b20;
	Node0x55c7a8295b20 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{do.body:                                          \l  %14 = phi i32 [ %.pre, %do.body.preheader ], [ %dec7, %land.rhs ], !dbg !508\l  %inc = add i32 %14, 1, !dbg !508\l  store i32 %inc, i32* %10, align 4, !dbg !508\l  call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull %2, i8*\l... getelementptr inbounds ([19 x i8], [19 x i8]* @.str, i64 0, i64 0), i32 90)\l... #13, !dbg !510\l  %call = call i32 @qemu_sem_timedwait(%struct.QemuSemaphore* nonnull %11, i32\l... 10000) #13, !dbg !511\l  call void @llvm.dbg.value(metadata i32 %call, metadata !460, metadata\l... !DIExpression()), !dbg !504\l  %15 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !512\l  %16 = inttoptr i64 %15 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !512\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %16,\l... metadata !461, metadata !DIExpression()), !dbg !514\l  call void %16(%struct.QemuMutex* nonnull %2, i8* getelementptr inbounds ([19\l... x i8], [19 x i8]* @.str, i64 0, i64 0), i32 92) #13, !dbg !515, !prof !516\l  %17 = load i32, i32* %10, align 4, !dbg !517\l  %dec7 = add i32 %17, -1, !dbg !517\l  store i32 %dec7, i32* %10, align 4, !dbg !517\l  %cmp = icmp eq i32 %call, -1, !dbg !518\l  br i1 %cmp, label %land.rhs, label %lor.lhs.false, !dbg !519\l|{<s0>T|<s1>F}}"];
	Node0x55c7a8295b20:s0 -> Node0x55c7a8297c10;
	Node0x55c7a8295b20:s1 -> Node0x55c7a8298880;
	Node0x55c7a8297c10 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{land.rhs:                                         \l  %18 = load %struct.ThreadPoolElement*, %struct.ThreadPoolElement**\l... %tqh_first, align 8, !dbg !520\l  %cmp8 = icmp eq %struct.ThreadPoolElement* %18, null, !dbg !520\l  br i1 %cmp8, label %while.end.loopexit, label %do.body, !dbg !521,\l... !llvm.loop !522\l|{<s0>T|<s1>F}}"];
	Node0x55c7a8297c10:s0 -> Node0x55c7a839f1f0;
	Node0x55c7a8297c10:s1 -> Node0x55c7a8295b20;
	Node0x55c7a8298880 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{lor.lhs.false:                                    \l  %19 = load i8, i8* %8, align 8, !dbg !524, !range !501\l  %tobool12 = icmp eq i8 %19, 0, !dbg !524\l  br i1 %tobool12, label %if.end, label %while.end.loopexit101, !dbg !526\l|{<s0>T|<s1>F}}"];
	Node0x55c7a8298880:s0 -> Node0x55c7a8298830;
	Node0x55c7a8298880:s1 -> Node0x55c7a83ab0a0;
	Node0x55c7a8298830 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{if.end:                                           \l  %20 = load %struct.ThreadPoolElement*, %struct.ThreadPoolElement**\l... %tqh_first, align 8, !dbg !527\l  call void @llvm.dbg.value(metadata %struct.ThreadPoolElement* %20, metadata\l... !458, metadata !DIExpression()), !dbg !504\l  %reqs = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 6, !dbg !528\l  %tqe_next = bitcast %union.anon.7* %reqs to %struct.ThreadPoolElement**,\l... !dbg !528\l  %21 = load %struct.ThreadPoolElement*, %struct.ThreadPoolElement**\l... %tqe_next, align 8, !dbg !528\l  %cmp16 = icmp eq %struct.ThreadPoolElement* %21, null, !dbg !528\l  %tql_prev = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 6, i32 0, i32 1, !dbg !528\l  %22 = bitcast %struct.QTailQLink** %tql_prev to i64*, !dbg !528\l  %23 = load i64, i64* %22, align 8, !dbg !528\l  %tql_prev23 = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %21, i64 0, i32 6, i32 0, i32 1, !dbg !529\l  %24 = bitcast %struct.QTailQLink** %tql_prev23 to i64*, !dbg !529\l  %.sink = select i1 %cmp16, i64* %12, i64* %24, !dbg !529\l  store i64 %23, i64* %.sink, align 8, !dbg !528\l  %25 = bitcast %union.anon.7* %reqs to i64*, !dbg !529\l  %26 = load i64, i64* %25, align 8, !dbg !529\l  %27 = bitcast %struct.QTailQLink** %tql_prev to i64**, !dbg !529\l  %28 = load i64*, i64** %27, align 8, !dbg !529\l  store i64 %26, i64* %28, align 8, !dbg !529\l  %state = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 4, !dbg !530\l  %29 = bitcast %union.anon.7* %reqs to i8*, !dbg !531\l  call void @llvm.memset.p0i8.i64(i8* nonnull align 8 dereferenceable(16) %29,\l... i8 0, i64 16, i1 false), !dbg !529\l  store i32 1, i32* %state, align 8, !dbg !531\l  call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull %2, i8*\l... getelementptr inbounds ([19 x i8], [19 x i8]* @.str, i64 0, i64 0), i32 102)\l... #13, !dbg !532\l  %func = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 2, !dbg !533\l  %30 = load i32 (i8*)*, i32 (i8*)** %func, align 8, !dbg !533\l  %arg = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 3, !dbg !534\l  %31 = load i8*, i8** %arg, align 8, !dbg !534\l  %call46 = call i32 %30(i8* %31) #13, !dbg !535, !prof !536\l  call void @llvm.dbg.value(metadata i32 %call46, metadata !460, metadata\l... !DIExpression()), !dbg !504\l  %ret47 = getelementptr inbounds %struct.ThreadPoolElement,\l... %struct.ThreadPoolElement* %20, i64 0, i32 5, !dbg !537\l  store i32 %call46, i32* %ret47, align 4, !dbg !538\l  call void asm sideeffect \"\", \"~\{memory\},~\{dirflag\},~\{fpsr\},~\{flags\}\"() #13,\l... !dbg !539, !srcloc !542\l  fence release, !dbg !543\l  store i32 2, i32* %state, align 8, !dbg !544\l  %32 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !545\l  %33 = inttoptr i64 %32 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !545\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %33,\l... metadata !464, metadata !DIExpression()), !dbg !547\l  call void %33(%struct.QemuMutex* nonnull %2, i8* getelementptr inbounds ([19\l... x i8], [19 x i8]* @.str, i64 0, i64 0), i32 111) #13, !dbg !548, !prof !516\l  %34 = load %struct.QEMUBH*, %struct.QEMUBH** %13, align 8, !dbg !549\l  call void @qemu_bh_schedule(%struct.QEMUBH* %34) #13, !dbg !550\l  %35 = load i8, i8* %8, align 8, !dbg !500, !range !501\l  %tobool = icmp eq i8 %35, 0, !dbg !500\l  br i1 %tobool, label %do.body.preheader, label %while.end.loopexit101, !dbg\l... !502, !prof !495\l|{<s0>T|<s1>F}}"];
	Node0x55c7a8298830:s0 -> Node0x55c7a7d0f0b0;
	Node0x55c7a8298830:s1 -> Node0x55c7a83ab0a0;
	Node0x55c7a839f1f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{while.end.loopexit:                               \l  br label %while.end, !dbg !551\l}"];
	Node0x55c7a839f1f0 -> Node0x55c7a8294aa0;
	Node0x55c7a83ab0a0 [shape=record,penwidth=3.0, color="red",label="{while.end.loopexit101:                            \l  br label %while.end, !dbg !551\l}"];
	Node0x55c7a83ab0a0 -> Node0x55c7a8294aa0;
	Node0x55c7a8294aa0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#e1675170",label="{while.end:                                        \l  %cur_threads = getelementptr inbounds i8, i8* %opaque, i64 200, !dbg !551\l  %36 = bitcast i8* %cur_threads to i32*, !dbg !551\l  %37 = load i32, i32* %36, align 8, !dbg !552\l  %dec54 = add i32 %37, -1, !dbg !552\l  store i32 %dec54, i32* %36, align 8, !dbg !552\l  %worker_stopped = getelementptr inbounds i8, i8* %opaque, i64 64, !dbg !553\l  %38 = bitcast i8* %worker_stopped to %struct.QemuCond*, !dbg !553\l  call void @qemu_cond_signal(%struct.QemuCond* nonnull %38) #13, !dbg !554\l  call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull %2, i8*\l... getelementptr inbounds ([19 x i8], [19 x i8]* @.str, i64 0, i64 0), i32 118)\l... #13, !dbg !555\l  ret i8* null, !dbg !556\l}"];
}
