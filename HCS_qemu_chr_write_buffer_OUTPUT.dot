digraph "CFG for 'qemu_chr_write_buffer' function" {
	label="CFG for 'qemu_chr_write_buffer' function";

	Node0x55fa00df5970 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  call void @llvm.dbg.value(metadata %struct.Chardev* %s, metadata !801,\l... metadata !DIExpression()), !dbg !820\l  call void @llvm.dbg.value(metadata i8* %buf, metadata !802, metadata\l... !DIExpression()), !dbg !820\l  call void @llvm.dbg.value(metadata i32 %len, metadata !803, metadata\l... !DIExpression()), !dbg !820\l  call void @llvm.dbg.value(metadata i32* %offset, metadata !804, metadata\l... !DIExpression()), !dbg !820\l  call void @llvm.dbg.value(metadata i1 %write_all, metadata !805, metadata\l... !DIExpression(DW_OP_LLVM_convert, 1, DW_ATE_unsigned, DW_OP_LLVM_convert, 8,\l... DW_ATE_unsigned, DW_OP_stack_value)), !dbg !820\l  %0 = getelementptr %struct.Chardev, %struct.Chardev* %s, i64 0, i32 0, !dbg\l... !821\l  %call = tail call %struct.ObjectClass* @object_get_class(%struct.Object* %0)\l... #16, !dbg !821\l  %call1 = tail call %struct.ObjectClass*\l... @object_class_dynamic_cast_assert(%struct.ObjectClass* %call, i8*\l... getelementptr inbounds ([8 x i8], [8 x i8]* @.str, i64 0, i64 0), i8*\l... getelementptr inbounds ([15 x i8], [15 x i8]* @.str.1, i64 0, i64 0), i32\l... 114, i8* getelementptr inbounds ([22 x i8], [22 x i8]*\l... @__func__.qemu_chr_write_buffer, i64 0, i64 0)) #16, !dbg !821\l  call void @llvm.dbg.value(metadata %struct.ObjectClass* %call1, metadata\l... !806, metadata !DIExpression()), !dbg !820\l  call void @llvm.dbg.value(metadata i32 0, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  store i32 0, i32* %offset, align 4, !dbg !822\l  %1 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !823\l  %2 = inttoptr i64 %1 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !823\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %2,\l... metadata !808, metadata !DIExpression()), !dbg !825\l  %chr_write_lock = getelementptr inbounds %struct.Chardev, %struct.Chardev*\l... %s, i64 0, i32 1, !dbg !826\l  tail call void %2(%struct.QemuMutex* nonnull %chr_write_lock, i8*\l... getelementptr inbounds ([15 x i8], [15 x i8]* @.str.1, i64 0, i64 0), i32\l... 118) #16, !dbg !826, !prof !827\l  call void @llvm.dbg.value(metadata i32 0, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  %3 = load i32, i32* %offset, align 4, !dbg !828\l  %cmp58 = icmp slt i32 %3, %len, !dbg !829\l  br i1 %cmp58, label %retry.preheader.lr.ph, label %while.end, !dbg !830,\l... !prof !831\l|{<s0>T|<s1>F}}"];
	Node0x55fa00df5970:s0 -> Node0x55fa00dd2aa0;
	Node0x55fa00df5970:s1 -> Node0x55fa00dffbd0;
	Node0x55fa00dd2aa0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{retry.preheader.lr.ph:                            \l  %chr_write = getelementptr inbounds %struct.ObjectClass,\l... %struct.ObjectClass* %call1, i64 1, i32 2, i64 1, !dbg !832\l  %4 = bitcast i8** %chr_write to i32 (%struct.Chardev*, i8*, i32)**, !dbg !832\l  %write_all.not = xor i1 %write_all, true, !dbg !833\l  br label %retry.preheader, !dbg !830\l}"];
	Node0x55fa00dd2aa0 -> Node0x55fa00e32bf0;
	Node0x55fa00e32bf0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{retry.preheader:                                  \l  %5 = phi i32 [ %3, %retry.preheader.lr.ph ], [ %add, %if.end12 ], !dbg !835\l  call void @llvm.dbg.label(metadata !816), !dbg !836\l  %6 = load i32 (%struct.Chardev*, i8*, i32)*, i32 (%struct.Chardev*, i8*,\l... i32)** %4, align 8, !dbg !837\l  %idx.ext51 = sext i32 %5 to i64, !dbg !838\l  %add.ptr52 = getelementptr i8, i8* %buf, i64 %idx.ext51, !dbg !838\l  %sub53 = sub i32 %len, %5, !dbg !839\l  %call254 = tail call i32 %6(%struct.Chardev* %s, i8* %add.ptr52, i32 %sub53)\l... #16, !dbg !840, !prof !841\l  call void @llvm.dbg.value(metadata i32 %call254, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  %cmp355 = icmp slt i32 %call254, 0, !dbg !842\l  br i1 %cmp355, label %land.lhs.true.lr.ph, label %if.end9, !dbg !843, !prof\l... !844\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e32bf0:s0 -> Node0x55fa00d31270;
	Node0x55fa00e32bf0:s1 -> Node0x55fa00e01830;
	Node0x55fa00d31270 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{land.lhs.true.lr.ph:                              \l  %call4 = tail call i32* @__errno_location() #17, !dbg !833\l  %7 = load i32, i32* %call4, align 4, !dbg !845\l  %cmp582 = icmp ne i32 %7, 11, !dbg !846\l  %brmerge83 = or i1 %cmp582, %write_all.not, !dbg !847\l  br i1 %brmerge83, label %while.endthread-pre-split.loopexit86, label\l... %if.then.preheader, !dbg !847\l|{<s0>T|<s1>F}}"];
	Node0x55fa00d31270:s0 -> Node0x55fa00f415e0;
	Node0x55fa00d31270:s1 -> Node0x55fa00e1f1d0;
	Node0x55fa00e1f1d0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then.preheader:                                \l  br label %if.then, !dbg !848\l}"];
	Node0x55fa00e1f1d0 -> Node0x55fa00e017c0;
	Node0x55fa00e01950 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{land.lhs.true:                                    \l  %8 = load i32, i32* %call4, align 4, !dbg !845\l  %cmp5 = icmp ne i32 %8, 11, !dbg !846\l  %brmerge = or i1 %cmp5, %write_all.not, !dbg !847\l  br i1 %brmerge, label %while.endthread-pre-split.loopexit, label %if.then,\l... !dbg !847\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e01950:s0 -> Node0x55fa00e72300;
	Node0x55fa00e01950:s1 -> Node0x55fa00e017c0;
	Node0x55fa00e017c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then:                                          \l  %call7 = tail call zeroext i1 @qemu_in_coroutine() #16, !dbg !850\l  br i1 %call7, label %if.then8, label %if.else, !dbg !848\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e017c0:s0 -> Node0x55fa00e02f30;
	Node0x55fa00e017c0:s1 -> Node0x55fa00e02ff0;
	Node0x55fa00e02f30 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then8:                                         \l  call void @llvm.dbg.value(metadata i32 0, metadata !852, metadata\l... !DIExpression()) #16, !dbg !860\l  call void @llvm.dbg.value(metadata i64 100000, metadata !859, metadata\l... !DIExpression()) #16, !dbg !860\l  tail call void @qemu_co_sleep_ns_wakeable(i32 0, i64 100000,\l... %struct.QemuCoSleepState** null) #16, !dbg !863\l  br label %if.end, !dbg !864\l}"];
	Node0x55fa00e02f30 -> Node0x55fa00e02f80;
	Node0x55fa00e02ff0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else:                                          \l  tail call void @g_usleep(i64 100) #16, !dbg !865\l  br label %if.end\l}"];
	Node0x55fa00e02ff0 -> Node0x55fa00e02f80;
	Node0x55fa00e02f80 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end:                                           \l  call void @llvm.dbg.label(metadata !816), !dbg !836\l  %9 = load i32 (%struct.Chardev*, i8*, i32)*, i32 (%struct.Chardev*, i8*,\l... i32)** %4, align 8, !dbg !837\l  %10 = load i32, i32* %offset, align 4, !dbg !835\l  %idx.ext = sext i32 %10 to i64, !dbg !838\l  %add.ptr = getelementptr i8, i8* %buf, i64 %idx.ext, !dbg !838\l  %sub = sub i32 %len, %10, !dbg !839\l  %call2 = tail call i32 %9(%struct.Chardev* %s, i8* %add.ptr, i32 %sub) #16,\l... !dbg !840, !prof !841\l  call void @llvm.dbg.value(metadata i32 %call2, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  %cmp3 = icmp slt i32 %call2, 0, !dbg !842\l  br i1 %cmp3, label %land.lhs.true, label %if.end9.loopexit, !dbg !843, !prof\l... !844\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e02f80:s0 -> Node0x55fa00e01950;
	Node0x55fa00e02f80:s1 -> Node0x55fa00dbce30;
	Node0x55fa00dbce30 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end9.loopexit:                                 \l  %call2.lcssa91 = phi i32 [ %call2, %if.end ], !dbg !840\l  br label %if.end9, !dbg !867\l}"];
	Node0x55fa00dbce30 -> Node0x55fa00e01830;
	Node0x55fa00e01830 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end9:                                          \l  %call2.lcssa = phi i32 [ %call254, %retry.preheader ], [ %call2.lcssa91,\l... %if.end9.loopexit ], !dbg !840\l  %cmp10 = icmp eq i32 %call2.lcssa, 0, !dbg !867\l  br i1 %cmp10, label %while.endthread-pre-split.loopexit86, label %if.end12,\l... !dbg !869, !prof !870\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e01830:s0 -> Node0x55fa00f415e0;
	Node0x55fa00e01830:s1 -> Node0x55fa00e03580;
	Node0x55fa00e03580 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end12:                                         \l  %11 = load i32, i32* %offset, align 4, !dbg !871\l  %add = add i32 %11, %call2.lcssa, !dbg !871\l  store i32 %add, i32* %offset, align 4, !dbg !871\l  %cmp = icmp slt i32 %add, %len, !dbg !829\l  %or.cond = and i1 %cmp, %write_all, !dbg !872\l  call void @llvm.dbg.value(metadata i32 %call2.lcssa, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  br i1 %or.cond, label %retry.preheader, label %while.end.loopexit, !dbg\l... !872, !prof !873, !llvm.loop !874\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e03580:s0 -> Node0x55fa00e32bf0;
	Node0x55fa00e03580:s1 -> Node0x55fa00db06b0;
	Node0x55fa00e72300 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.endthread-pre-split.loopexit:               \l  %call2.lcssa92 = phi i32 [ %call2, %land.lhs.true ], !dbg !840\l  br label %while.endthread-pre-split, !dbg !876\l}"];
	Node0x55fa00e72300 -> Node0x55fa00dfdd90;
	Node0x55fa00f415e0 [shape=record,penwidth=3.0, color="red",label="{while.endthread-pre-split.loopexit86:             \l  %call246.ph = phi i32 [ 0, %if.end9 ], [ %call254, %land.lhs.true.lr.ph ]\l  br label %while.endthread-pre-split, !dbg !876\l}"];
	Node0x55fa00f415e0 -> Node0x55fa00dfdd90;
	Node0x55fa00dfdd90 [shape=record,penwidth=3.0, color="red",label="{while.endthread-pre-split:                        \l  %call246 = phi i32 [ %call2.lcssa92, %while.endthread-pre-split.loopexit ],\l... [ %call246.ph, %while.endthread-pre-split.loopexit86 ]\l  %.pr = load i32, i32* %offset, align 4, !dbg !876\l  br label %while.end, !dbg !876\l}"];
	Node0x55fa00dfdd90 -> Node0x55fa00dffbd0;
	Node0x55fa00db06b0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.end.loopexit:                               \l  %add.lcssa = phi i32 [ %add, %if.end12 ], !dbg !871\l  %call2.lcssa.lcssa = phi i32 [ %call2.lcssa, %if.end12 ], !dbg !840\l  br label %while.end, !dbg !878\l}"];
	Node0x55fa00db06b0 -> Node0x55fa00dffbd0;
	Node0x55fa00dffbd0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.end:                                        \l  %12 = phi i32 [ %.pr, %while.endthread-pre-split ], [ %3, %entry ], [\l... %add.lcssa, %while.end.loopexit ], !dbg !876\l  %res.1 = phi i32 [ %call246, %while.endthread-pre-split ], [ 0, %entry ], [\l... %call2.lcssa.lcssa, %while.end.loopexit ], !dbg !820\l  call void @llvm.dbg.value(metadata i32 %res.1, metadata !807, metadata\l... !DIExpression()), !dbg !820\l  %cmp16 = icmp sgt i32 %12, 0, !dbg !878\l  br i1 %cmp16, label %if.then17, label %if.end18, !dbg !879, !prof !831\l|{<s0>T|<s1>F}}"];
	Node0x55fa00dffbd0:s0 -> Node0x55fa00e09320;
	Node0x55fa00dffbd0:s1 -> Node0x55fa00e09370;
	Node0x55fa00e09320 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.then17:                                        \l  %conv41 = zext i32 %12 to i64, !dbg !880\l  call void @llvm.dbg.value(metadata %struct.Chardev* %s, metadata !882,\l... metadata !DIExpression()) #16, !dbg !896\l  call void @llvm.dbg.value(metadata i8* %buf, metadata !887, metadata\l... !DIExpression()) #16, !dbg !896\l  call void @llvm.dbg.value(metadata i64 %conv41, metadata !888, metadata\l... !DIExpression()) #16, !dbg !896\l  call void @llvm.dbg.value(metadata i64 0, metadata !889, metadata\l... !DIExpression()) #16, !dbg !896\l  %logfd.i = getelementptr inbounds %struct.Chardev, %struct.Chardev* %s, i64\l... 0, i32 5, !dbg !898\l  %13 = load i32, i32* %logfd.i, align 8, !dbg !898\l  %cmp.i = icmp sgt i32 %13, -1, !dbg !900\l  br i1 %cmp.i, label %retry.i.preheader.preheader, label %if.end18, !dbg\l... !901, !prof !902\l|{<s0>T|<s1>F}}"];
	Node0x55fa00e09320:s0 -> Node0x55fa00d65dc0;
	Node0x55fa00e09320:s1 -> Node0x55fa00e09370;
	Node0x55fa00d65dc0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{retry.i.preheader.preheader:                      \l  br label %retry.i.preheader, !dbg !903\l}"];
	Node0x55fa00d65dc0 -> Node0x55fa00de34d0;
	Node0x55fa00e17410 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.cond.i.retry.i.preheader_crit_edge:         \l  %.pre = load i32, i32* %logfd.i, align 8, !dbg !905\l  br label %retry.i.preheader, !dbg !906\l}"];
	Node0x55fa00e17410 -> Node0x55fa00de34d0;
	Node0x55fa00de34d0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{retry.i.preheader:                                \l  %14 = phi i32 [ %.pre, %while.cond.i.retry.i.preheader_crit_edge ], [ %13,\l... %retry.i.preheader.preheader ], !dbg !905\l  %done.0.i50 = phi i64 [ %add.i, %while.cond.i.retry.i.preheader_crit_edge ],\l... [ 0, %retry.i.preheader.preheader ]\l  call void @llvm.dbg.value(metadata i64 %done.0.i50, metadata !889, metadata\l... !DIExpression()) #16, !dbg !896\l  call void @llvm.dbg.label(metadata !894) #16, !dbg !907\l  %add.ptr.i = getelementptr i8, i8* %buf, i64 %done.0.i50, !dbg !908\l  %sub.i = sub i64 %conv41, %done.0.i50, !dbg !909\l  %call.i47 = tail call i64 @write(i32 %14, i8* %add.ptr.i, i64 %sub.i) #16,\l... !dbg !910\l  call void @llvm.dbg.value(metadata i64 %call.i47, metadata !890, metadata\l... !DIExpression()) #16, !dbg !896\l  %cmp3.i48 = icmp eq i64 %call.i47, -1, !dbg !911\l  br i1 %cmp3.i48, label %land.lhs.true.i.lr.ph, label %if.end7.i, !dbg !903\l|{<s0>T|<s1>F}}"];
	Node0x55fa00de34d0:s0 -> Node0x55fa00cd8c80;
	Node0x55fa00de34d0:s1 -> Node0x55fa00ccade0;
	Node0x55fa00cd8c80 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{land.lhs.true.i.lr.ph:                            \l  %call4.i = tail call i32* @__errno_location() #17, !dbg !912\l  br label %land.lhs.true.i, !dbg !903\l}"];
	Node0x55fa00cd8c80 -> Node0x55fa00d0a890;
	Node0x55fa00d0a890 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{land.lhs.true.i:                                  \l  %15 = load i32, i32* %call4.i, align 4, !dbg !913\l  %cmp5.i = icmp eq i32 %15, 11, !dbg !914\l  br i1 %cmp5.i, label %if.then6.i, label %if.end18.loopexit, !dbg !915\l|{<s0>T|<s1>F}}"];
	Node0x55fa00d0a890:s0 -> Node0x55fa00d1cfc0;
	Node0x55fa00d0a890:s1 -> Node0x55fa00d32260;
	Node0x55fa00d1cfc0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then6.i:                                       \l  tail call void @g_usleep(i64 100) #16, !dbg !916\l  call void @llvm.dbg.label(metadata !894) #16, !dbg !907\l  %16 = load i32, i32* %logfd.i, align 8, !dbg !905\l  %call.i = tail call i64 @write(i32 %16, i8* %add.ptr.i, i64 %sub.i) #16,\l... !dbg !910\l  call void @llvm.dbg.value(metadata i64 %call.i, metadata !890, metadata\l... !DIExpression()) #16, !dbg !896\l  %cmp3.i = icmp eq i64 %call.i, -1, !dbg !911\l  br i1 %cmp3.i, label %land.lhs.true.i, label %if.end7.i.loopexit, !dbg !903\l|{<s0>T|<s1>F}}"];
	Node0x55fa00d1cfc0:s0 -> Node0x55fa00d0a890;
	Node0x55fa00d1cfc0:s1 -> Node0x55fa00d78210;
	Node0x55fa00d78210 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end7.i.loopexit:                               \l  %call.i.lcssa90 = phi i64 [ %call.i, %if.then6.i ], !dbg !910\l  br label %if.end7.i, !dbg !918\l}"];
	Node0x55fa00d78210 -> Node0x55fa00ccade0;
	Node0x55fa00ccade0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end7.i:                                        \l  %call.i.lcssa = phi i64 [ %call.i47, %retry.i.preheader ], [\l... %call.i.lcssa90, %if.end7.i.loopexit ], !dbg !910\l  %cmp8.i = icmp sgt i64 %call.i.lcssa, 0, !dbg !918\l  %add.i = add i64 %call.i.lcssa, %done.0.i50, !dbg !920\l  call void @llvm.dbg.value(metadata i64 %add.i, metadata !889, metadata\l... !DIExpression()) #16, !dbg !896\l  %cmp1.i = icmp ult i64 %add.i, %conv41, !dbg !921\l  %or.cond75 = and i1 %cmp8.i, %cmp1.i, !dbg !922\l  call void @llvm.dbg.value(metadata i64 %add.i, metadata !889, metadata\l... !DIExpression()) #16, !dbg !896\l  br i1 %or.cond75, label %while.cond.i.retry.i.preheader_crit_edge, label\l... %if.end18.loopexit85, !dbg !922, !llvm.loop !923\l|{<s0>T|<s1>F}}"];
	Node0x55fa00ccade0:s0 -> Node0x55fa00e17410;
	Node0x55fa00ccade0:s1 -> Node0x55fa00d0f050;
	Node0x55fa00d32260 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end18.loopexit:                                \l  br label %if.end18, !dbg !925\l}"];
	Node0x55fa00d32260 -> Node0x55fa00e09370;
	Node0x55fa00d0f050 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end18.loopexit85:                              \l  br label %if.end18, !dbg !925\l}"];
	Node0x55fa00d0f050 -> Node0x55fa00e09370;
	Node0x55fa00e09370 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end18:                                         \l  tail call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull\l... %chr_write_lock, i8* getelementptr inbounds ([15 x i8], [15 x i8]* @.str.1,\l... i64 0, i64 0), i32 143) #16, !dbg !925\l  ret i32 %res.1, !dbg !926\l}"];
}
