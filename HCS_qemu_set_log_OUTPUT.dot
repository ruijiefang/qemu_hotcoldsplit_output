digraph "CFG for 'qemu_set_log' function" {
	label="CFG for 'qemu_set_log' function";

	Node0x5590aea63c80 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  call void @llvm.dbg.value(metadata i32 %log_flags, metadata !120, metadata\l... !DIExpression()), !dbg !256\l  call void @llvm.dbg.value(metadata i8 0, metadata !121, metadata\l... !DIExpression()), !dbg !256\l  %or = or i32 %log_flags, 32768, !dbg !257\l  store i32 %or, i32* @qemu_loglevel, align 4, !dbg !257\l  %call = tail call zeroext i1 @is_daemonized() #3, !dbg !258\l  %call.not = xor i1 %call, true, !dbg !260\l  %0 = load i8*, i8** @logfilename, align 8, !dbg !261\l  %tobool1 = icmp ne i8* %0, null, !dbg !261\l  %or.cond = or i1 %tobool1, %call.not, !dbg !260\l  call void @llvm.dbg.value(metadata i8 undef, metadata !121, metadata\l... !DIExpression()), !dbg !256\l  call void @llvm.dbg.value(metadata %struct.QemuLockable* undef, metadata\l... !262, metadata !DIExpression()) #3, !dbg !267\l  call void @llvm.dbg.value(metadata %struct.QemuLockable* undef, metadata\l... !269, metadata !DIExpression()) #3, !dbg !274\l  call void @llvm.dbg.value(metadata %struct.QemuMutex* @qemu_logfile_mutex,\l... metadata !276, metadata !DIExpression()) #3, !dbg !289\l  %1 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !291\l  %2 = inttoptr i64 %1 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !291\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %2,\l... metadata !283, metadata !DIExpression()) #3, !dbg !293\l  tail call void %2(%struct.QemuMutex* nonnull @qemu_logfile_mutex, i8*\l... getelementptr inbounds ([66 x i8], [66 x i8]* @.str.56, i64 0, i64 0), i32\l... 109) #3, !dbg !294, !prof !295\l  call void @llvm.dbg.value(metadata %struct.QemuLockable* undef, metadata\l... !124, metadata !DIExpression()), !dbg !256\l  %3 = load %struct.QemuLogFile*, %struct.QemuLogFile** @qemu_logfile, align\l... 8, !dbg !296\l  %tobool4 = icmp eq %struct.QemuLogFile* %3, null, !dbg !296\l  %brmerge = or i1 %or.cond, %tobool4, !dbg !297\l  br i1 %brmerge, label %if.else, label %if.then7, !dbg !297, !prof !298\l|{<s0>T|<s1>F}}"];
	Node0x5590aea63c80:s0 -> Node0x5590aeabd200;
	Node0x5590aea63c80:s1 -> Node0x5590af227d20;
	Node0x5590af227d20 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then7:                                         \l  call void @llvm.dbg.value(metadata %struct.QemuLogFile* %3, metadata !123,\l... metadata !DIExpression()), !dbg !256\l  store atomic i64 0, i64* bitcast (%struct.QemuLogFile** @qemu_logfile to\l... i64*) release, align 8, !dbg !299\l  call void @llvm.dbg.declare(metadata [0 x i8]* undef, metadata !133,\l... metadata !DIExpression()), !dbg !301\l  %rcu = getelementptr inbounds %struct.QemuLogFile, %struct.QemuLogFile* %3,\l... i64 0, i32 0, !dbg !301\l  tail call void @call_rcu1(%struct.rcu_head* nonnull %rcu, void\l... (%struct.rcu_head*)* bitcast (void (%struct.QemuLogFile*)* @qemu_logfile_free\l... to void (%struct.rcu_head*)*)) #3, !dbg !302\l  br label %if.then.i.i, !dbg !303\l}"];
	Node0x5590af227d20 -> Node0x5590af2fc340;
	Node0x5590aeabd200 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.else:                                          \l  %tobool8.not = xor i1 %tobool4, true, !dbg !304\l  %notlhs = xor i1 %tobool1, true, !dbg !304\l  %need_to_open_file.0.not = and i1 %call, %notlhs, !dbg !304\l  %brmerge88 = or i1 %need_to_open_file.0.not, %tobool8.not, !dbg !304\l  br i1 %brmerge88, label %if.then.i.i, label %if.then19, !dbg !304, !prof !305\l|{<s0>T|<s1>F}}"];
	Node0x5590aeabd200:s0 -> Node0x5590af2fc340;
	Node0x5590aeabd200:s1 -> Node0x5590af277b30;
	Node0x5590af277b30 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.then19:                                        \l  call void @llvm.dbg.value(metadata i64 1, metadata !141, metadata\l... !DIExpression()), !dbg !306\l  call void @llvm.dbg.value(metadata i64 24, metadata !145, metadata\l... !DIExpression()), !dbg !306\l  %call20 = tail call noalias i8* @g_malloc0(i64 24) #17, !dbg !307\l  call void @llvm.dbg.value(metadata i8* %call20, metadata !146, metadata\l... !DIExpression()), !dbg !306\l  call void @llvm.dbg.value(metadata i8* %call20, metadata !123, metadata\l... !DIExpression()), !dbg !256\l  %4 = load i8*, i8** @logfilename, align 8, !dbg !310\l  %tobool26 = icmp eq i8* %4, null, !dbg !310\l  br i1 %tobool26, label %if.else43, label %if.then27, !dbg !312, !prof !313\l|{<s0>T|<s1>F}}"];
	Node0x5590af277b30:s0 -> Node0x5590af27c760;
	Node0x5590af277b30:s1 -> Node0x5590af27c6c0;
	Node0x5590af27c6c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then27:                                        \l  call void @llvm.dbg.value(metadata i8* %call20, metadata !123, metadata\l... !DIExpression()), !dbg !256\l  %.b = load i1, i1* @log_append, align 4, !dbg !314\l  %cond = select i1 %.b, i8* getelementptr inbounds ([2 x i8], [2 x i8]*\l... @.str, i64 0, i64 0), i8* getelementptr inbounds ([2 x i8], [2 x i8]*\l... @.str.1, i64 0, i64 0), !dbg !314\l  %call29 = tail call %struct._IO_FILE* @fopen64(i8* nonnull %4, i8* %cond),\l... !dbg !316\l  %fd = getelementptr inbounds i8, i8* %call20, i64 16, !dbg !317\l  %5 = bitcast i8* %fd to %struct._IO_FILE**, !dbg !317\l  store %struct._IO_FILE* %call29, %struct._IO_FILE** %5, align 8, !dbg !318\l  %tobool31 = icmp eq %struct._IO_FILE* %call29, null, !dbg !319\l  br i1 %tobool31, label %if.then32, label %if.end33, !dbg !321\l|{<s0>T|<s1>F}}"];
	Node0x5590af27c6c0:s0 -> Node0x5590aea83e70;
	Node0x5590af27c6c0:s1 -> Node0x5590af27da80;
	Node0x5590aea83e70 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then32:                                        \l  tail call void @g_free(i8* nonnull %call20) #3, !dbg !322\l  %6 = load i8*, i8** @logfilename, align 8, !dbg !324\l  tail call void @perror(i8* %6) #18, !dbg !325\l  tail call void @_exit(i32 1) #19, !dbg !326\l  unreachable, !dbg !326\l}"];
	Node0x5590af27da80 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end33:                                         \l  %call34 = tail call zeroext i1 @is_daemonized() #3, !dbg !327\l  %7 = load %struct._IO_FILE*, %struct._IO_FILE** %5, align 8, !dbg !329\l  br i1 %call34, label %if.then35, label %if.end49, !dbg !330\l|{<s0>T|<s1>F}}"];
	Node0x5590af27da80:s0 -> Node0x5590af27f2c0;
	Node0x5590af27da80:s1 -> Node0x5590af27c710;
	Node0x5590af27f2c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then35:                                        \l  %call37 = tail call i32 @fileno(%struct._IO_FILE* %7) #3, !dbg !331\l  %call38 = tail call i32 @dup2(i32 %call37, i32 2) #3, !dbg !333\l  %8 = load %struct._IO_FILE*, %struct._IO_FILE** %5, align 8, !dbg !334\l  %call40 = tail call i32 @fclose(%struct._IO_FILE* %8), !dbg !335\l  br label %if.end49.sink.split, !dbg !336\l}"];
	Node0x5590af27f2c0 -> Node0x5590af4292e0;
	Node0x5590af27c760 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.else43:                                        \l  %call44 = tail call zeroext i1 @is_daemonized() #3, !dbg !337\l  br i1 %call44, label %if.else46, label %if.end47, !dbg !341, !prof !342\l|{<s0>T|<s1>F}}"];
	Node0x5590af27c760:s0 -> Node0x5590af281810;
	Node0x5590af27c760:s1 -> Node0x5590af2817c0;
	Node0x5590af281810 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else46:                                        \l  tail call void @__assert_fail(i8* getelementptr inbounds ([17 x i8], [17 x\l... i8]* @.str.2, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x\l... i8]* @.str.3, i64 0, i64 0), i32 121, i8* getelementptr inbounds ([23 x i8],\l... [23 x i8]* @__PRETTY_FUNCTION__.qemu_set_log, i64 0, i64 0)) #19, !dbg !337\l  unreachable, !dbg !337\l}"];
	Node0x5590af2817c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.end47:                                         \l  %fd48 = getelementptr inbounds i8, i8* %call20, i64 16, !dbg !343\l  br label %if.end49.sink.split\l}"];
	Node0x5590af2817c0 -> Node0x5590af4292e0;
	Node0x5590af4292e0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.end49.sink.split:                              \l  %fd.sink = phi i8* [ %fd, %if.then35 ], [ %fd48, %if.end47 ]\l  %.sink91 = load i64, i64* bitcast (%struct._IO_FILE** @stderr to i64*),\l... align 8, !dbg !344\l  %9 = bitcast i8* %fd.sink to i64*, !dbg !344\l  store i64 %.sink91, i64* %9, align 8, !dbg !344\l  %10 = inttoptr i64 %.sink91 to %struct._IO_FILE*\l  br label %if.end49, !dbg !345\l}"];
	Node0x5590af4292e0 -> Node0x5590af27c710;
	Node0x5590af27c710 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.end49:                                         \l  %11 = phi %struct._IO_FILE* [ %7, %if.end33 ], [ %10, %if.end49.sink.split\l... ], !dbg !347\l  %.b8687 = load i1, i1* @log_uses_own_buffers, align 1, !dbg !345\l  br i1 %.b8687, label %if.then51, label %if.else54, !dbg !348, !prof !342\l|{<s0>T|<s1>F}}"];
	Node0x5590af27c710:s0 -> Node0x5590af282b70;
	Node0x5590af27c710:s1 -> Node0x5590af282f50;
	Node0x5590af282b70 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then51:                                        \l  %call53 = tail call i32 @setvbuf(%struct._IO_FILE* %11, i8* getelementptr\l... inbounds ([4096 x i8], [4096 x i8]* @qemu_set_log.logfile_buf, i64 0, i64 0),\l... i32 1, i64 4096) #3, !dbg !349\l  br label %do.body58, !dbg !351\l}"];
	Node0x5590af282b70 -> Node0x5590af284760;
	Node0x5590af282f50 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{if.else54:                                        \l  %call56 = tail call i32 @setvbuf(%struct._IO_FILE* %11, i8* null, i32 1, i64\l... 0) #3, !dbg !352\l  store i1 true, i1* @log_append, align 4, !dbg !354\l  br label %do.body58\l}"];
	Node0x5590af282f50 -> Node0x5590af284760;
	Node0x5590af284760 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{do.body58:                                        \l  %12 = ptrtoint i8* %call20 to i64, !dbg !355\l  store atomic i64 %12, i64* bitcast (%struct.QemuLogFile** @qemu_logfile to\l... i64*) release, align 8, !dbg !355\l  br label %if.then.i.i, !dbg !357\l}"];
	Node0x5590af284760 -> Node0x5590af2fc340;
	Node0x5590af2fc340 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.then.i.i:                                      \l  call void @llvm.dbg.value(metadata %struct.QemuLockable** undef, metadata\l... !124, metadata !DIExpression(DW_OP_deref)), !dbg !256\l  call void @llvm.dbg.value(metadata %struct.QemuLockable** undef, metadata\l... !358, metadata !DIExpression()) #3, !dbg !364\l  call void @llvm.dbg.value(metadata %struct.QemuLockable* undef, metadata\l... !366, metadata !DIExpression()) #3, !dbg !369\l  call void @llvm.dbg.value(metadata %struct.QemuLockable* undef, metadata\l... !372, metadata !DIExpression()) #3, !dbg !375\l  call void @llvm.dbg.value(metadata %struct.QemuMutex* @qemu_logfile_mutex,\l... metadata !379, metadata !DIExpression()) #3, !dbg !382\l  tail call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull\l... @qemu_logfile_mutex, i8* getelementptr inbounds ([66 x i8], [66 x i8]*\l... @.str.56, i64 0, i64 0), i32 119) #3, !dbg !384\l  ret void, !dbg !385\l}"];
}
