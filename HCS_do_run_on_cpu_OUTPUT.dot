digraph "CFG for 'do_run_on_cpu' function" {
	label="CFG for 'do_run_on_cpu' function";

	Node0x562576a04bb0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %wi = alloca %struct.qemu_work_item, align 8\l  call void @llvm.dbg.value(metadata i64 %data.coerce, metadata !550, metadata\l... !DIExpression()), !dbg !565\l  call void @llvm.dbg.value(metadata %struct.CPUState* %cpu, metadata !548,\l... metadata !DIExpression()), !dbg !565\l  call void @llvm.dbg.value(metadata void (%struct.CPUState*, i64)* %func,\l... metadata !549, metadata !DIExpression()), !dbg !565\l  call void @llvm.dbg.value(metadata %struct.QemuMutex* %mutex, metadata !551,\l... metadata !DIExpression()), !dbg !565\l  %0 = bitcast %struct.qemu_work_item* %wi to i8*, !dbg !566\l  call void @llvm.lifetime.start.p0i8(i64 32, i8* nonnull %0) #9, !dbg !566\l  call void @llvm.dbg.declare(metadata %struct.qemu_work_item* %wi, metadata\l... !552, metadata !DIExpression()), !dbg !567\l  %call = tail call zeroext i1 @qemu_cpu_is_self(%struct.CPUState* %cpu) #9,\l... !dbg !568\l  br i1 %call, label %if.then, label %if.end, !dbg !570, !prof !571\l|{<s0>T|<s1>F}}"];
	Node0x562576a04bb0:s0 -> Node0x562576a0c7a0;
	Node0x562576a04bb0:s1 -> Node0x562576a0c7f0;
	Node0x562576a0c7a0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#d8564670",label="{if.then:                                          \l  tail call void %func(%struct.CPUState* %cpu, i64 %data.coerce) #9, !dbg\l... !572, !prof !574\l  br label %cleanup, !dbg !575\l}"];
	Node0x562576a0c7a0 -> Node0x562576a0d810;
	Node0x562576a0c7f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#de614d70",label="{if.end:                                           \l  %func2 = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 1, !dbg !576\l  store void (%struct.CPUState*, i64)* %func, void (%struct.CPUState*, i64)**\l... %func2, align 8, !dbg !577\l  %data.sroa.0.0..sroa_idx = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 2, i32 0, !dbg !578\l  store i64 %data.coerce, i64* %data.sroa.0.0..sroa_idx, align 8, !dbg !578\l  %done = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 5, !dbg !579\l  store i8 0, i8* %done, align 2, !dbg !580\l  %free = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 3, !dbg !581\l  store i8 0, i8* %free, align 8, !dbg !582\l  %exclusive = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 4, !dbg !583\l  store i8 0, i8* %exclusive, align 1, !dbg !584\l  call void @llvm.dbg.value(metadata %struct.CPUState* %cpu, metadata !585,\l... metadata !DIExpression()) #9, !dbg !597\l  call void @llvm.dbg.value(metadata %struct.qemu_work_item* %wi, metadata\l... !590, metadata !DIExpression()) #9, !dbg !597\l  %1 = load atomic i64, i64* bitcast (void (%struct.QemuMutex*, i8*, i32)**\l... @qemu_mutex_lock_func to i64*) monotonic, align 8, !dbg !599\l  %2 = inttoptr i64 %1 to void (%struct.QemuMutex*, i8*, i32)*, !dbg !599\l  call void @llvm.dbg.value(metadata void (%struct.QemuMutex*, i8*, i32)* %2,\l... metadata !591, metadata !DIExpression()) #9, !dbg !601\l  %work_mutex.i = getelementptr inbounds %struct.CPUState, %struct.CPUState*\l... %cpu, i64 0, i32 23, !dbg !602\l  tail call void %2(%struct.QemuMutex* nonnull %work_mutex.i, i8*\l... getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64 0), i32 108)\l... #9, !dbg !602, !prof !603\l  %sqe_next.i = getelementptr inbounds %struct.qemu_work_item,\l... %struct.qemu_work_item* %wi, i64 0, i32 0, i32 0, !dbg !604\l  store %struct.qemu_work_item* null, %struct.qemu_work_item** %sqe_next.i,\l... align 8, !dbg !604\l  %sqh_last.i = getelementptr inbounds %struct.CPUState, %struct.CPUState*\l... %cpu, i64 0, i32 24, i32 1, !dbg !604\l  %3 = load %struct.qemu_work_item**, %struct.qemu_work_item*** %sqh_last.i,\l... align 8, !dbg !604\l  store %struct.qemu_work_item* %wi, %struct.qemu_work_item** %3, align 8,\l... !dbg !604\l  store %struct.qemu_work_item** %sqe_next.i, %struct.qemu_work_item***\l... %sqh_last.i, align 8, !dbg !604\l  store i8 0, i8* %done, align 2, !dbg !606\l  call void @qemu_mutex_unlock_impl(%struct.QemuMutex* nonnull %work_mutex.i,\l... i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64 0), i32\l... 111) #9, !dbg !607\l  call void @qemu_cpu_kick(%struct.CPUState* %cpu) #9, !dbg !608\l  %4 = load atomic i8, i8* %done acquire, align 2, !dbg !609\l  call void @llvm.dbg.value(metadata i8 %4, metadata !553, metadata\l... !DIExpression()), !dbg !610\l  %5 = and i8 %4, 1, !dbg !609\l  %tobool11 = icmp eq i8 %5, 0, !dbg !609\l  br i1 %tobool11, label %while.body.preheader, label %cleanup, !dbg !611,\l... !prof !612\l|{<s0>T|<s1>F}}"];
	Node0x562576a0c7f0:s0 -> Node0x562576aa7740;
	Node0x562576a0c7f0:s1 -> Node0x562576a0d810;
	Node0x562576aa7740 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f3947570",label="{while.body.preheader:                             \l  br label %while.body.peel.begin, !dbg !611\l}"];
	Node0x562576aa7740 -> Node0x562576a5b9f0;
	Node0x562576a5b9f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f3947570",label="{while.body.peel.begin:                            \l  br label %while.body.peel, !dbg !611\l}"];
	Node0x562576a5b9f0 -> Node0x562576b70aa0;
	Node0x562576b70aa0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f3947570",label="{while.body.peel:                                  \l  %6 = load i64, i64* bitcast (%struct.CPUState** @current_cpu to i64*), align\l... 8, !dbg !613\l  call void @llvm.dbg.value(metadata %struct.CPUState* undef, metadata !555,\l... metadata !DIExpression()), !dbg !614\l  %7 = load atomic i64, i64* bitcast (void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)** @qemu_cond_wait_func to i64*) monotonic,\l... align 8, !dbg !615\l  %8 = inttoptr i64 %7 to void (%struct.QemuCond*, %struct.QemuMutex*, i8*,\l... i32)*, !dbg !615\l  call void @llvm.dbg.value(metadata void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)* %8, metadata !557, metadata !DIExpression()),\l... !dbg !617\l  call void %8(%struct.QemuCond* nonnull @qemu_work_cond, %struct.QemuMutex*\l... %mutex, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64\l... 0), i32 136) #9, !dbg !618, !prof !619\l  store i64 %6, i64* bitcast (%struct.CPUState** @current_cpu to i64*), align\l... 8, !dbg !620\l  %9 = load atomic i8, i8* %done acquire, align 2, !dbg !609\l  call void @llvm.dbg.value(metadata i8 %9, metadata !553, metadata\l... !DIExpression()), !dbg !610\l  %10 = and i8 %9, 1, !dbg !609\l  %tobool.peel = icmp eq i8 %10, 0, !dbg !609\l  br i1 %tobool.peel, label %while.body.peel.next, label %cleanup.loopexit,\l... !dbg !611, !prof !612\l|{<s0>T|<s1>F}}"];
	Node0x562576b70aa0:s0 -> Node0x562576a7a220;
	Node0x562576b70aa0:s1 -> Node0x562576b3e400;
	Node0x562576a7a220 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7bca170",label="{while.body.peel.next:                             \l  br label %while.body.peel13, !dbg !611\l}"];
	Node0x562576a7a220 -> Node0x5625769ec640;
	Node0x5625769ec640 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f7bca170",label="{while.body.peel13:                                \l  %11 = load i64, i64* bitcast (%struct.CPUState** @current_cpu to i64*),\l... align 8, !dbg !613\l  call void @llvm.dbg.value(metadata %struct.CPUState* undef, metadata !555,\l... metadata !DIExpression()), !dbg !614\l  %12 = load atomic i64, i64* bitcast (void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)** @qemu_cond_wait_func to i64*) monotonic,\l... align 8, !dbg !615\l  %13 = inttoptr i64 %12 to void (%struct.QemuCond*, %struct.QemuMutex*, i8*,\l... i32)*, !dbg !615\l  call void @llvm.dbg.value(metadata void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)* %13, metadata !557, metadata !DIExpression()),\l... !dbg !617\l  call void %13(%struct.QemuCond* nonnull @qemu_work_cond, %struct.QemuMutex*\l... %mutex, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64\l... 0), i32 136) #9, !dbg !618, !prof !619\l  store i64 %11, i64* bitcast (%struct.CPUState** @current_cpu to i64*), align\l... 8, !dbg !620\l  %14 = load atomic i8, i8* %done acquire, align 2, !dbg !609\l  call void @llvm.dbg.value(metadata i8 %14, metadata !553, metadata\l... !DIExpression()), !dbg !610\l  %15 = and i8 %14, 1, !dbg !609\l  %tobool.peel14 = icmp eq i8 %15, 0, !dbg !609\l  br i1 %tobool.peel14, label %while.body.peel.next12, label\l... %cleanup.loopexit, !dbg !611, !prof !621\l|{<s0>T|<s1>F}}"];
	Node0x5625769ec640:s0 -> Node0x562576a73d60;
	Node0x5625769ec640:s1 -> Node0x562576b3e400;
	Node0x562576a73d60 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next12:                           \l  br label %while.body.peel.next15, !dbg !611\l}"];
	Node0x562576a73d60 -> Node0x562576b7a0e0;
	Node0x562576b7a0e0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next15:                           \l  br label %while.body.preheader.peel.newph, !dbg !611\l}"];
	Node0x562576b7a0e0 -> Node0x562576b7c310;
	Node0x562576b7c310 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader.peel.newph:                  \l  br label %while.body, !dbg !611\l}"];
	Node0x562576b7c310 -> Node0x562576a101a0;
	Node0x562576a101a0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body:                                       \l  %16 = load i64, i64* bitcast (%struct.CPUState** @current_cpu to i64*),\l... align 8, !dbg !613\l  call void @llvm.dbg.value(metadata %struct.CPUState* undef, metadata !555,\l... metadata !DIExpression()), !dbg !614\l  %17 = load atomic i64, i64* bitcast (void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)** @qemu_cond_wait_func to i64*) monotonic,\l... align 8, !dbg !615\l  %18 = inttoptr i64 %17 to void (%struct.QemuCond*, %struct.QemuMutex*, i8*,\l... i32)*, !dbg !615\l  call void @llvm.dbg.value(metadata void (%struct.QemuCond*,\l... %struct.QemuMutex*, i8*, i32)* %18, metadata !557, metadata !DIExpression()),\l... !dbg !617\l  call void %18(%struct.QemuCond* nonnull @qemu_work_cond, %struct.QemuMutex*\l... %mutex, i8* getelementptr inbounds ([14 x i8], [14 x i8]* @.str, i64 0, i64\l... 0), i32 136) #9, !dbg !618, !prof !619\l  store i64 %16, i64* bitcast (%struct.CPUState** @current_cpu to i64*), align\l... 8, !dbg !620\l  %19 = load atomic i8, i8* %done acquire, align 2, !dbg !609\l  call void @llvm.dbg.value(metadata i8 %19, metadata !553, metadata\l... !DIExpression()), !dbg !610\l  %20 = and i8 %19, 1, !dbg !609\l  %tobool = icmp eq i8 %20, 0, !dbg !609\l  br i1 %tobool, label %while.body, label %cleanup.loopexit.loopexit, !dbg\l... !611, !prof !621, !llvm.loop !622\l|{<s0>T|<s1>F}}"];
	Node0x562576a101a0:s0 -> Node0x562576a101a0;
	Node0x562576a101a0:s1 -> Node0x562576b93500;
	Node0x562576b93500 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{cleanup.loopexit.loopexit:                        \l  br label %cleanup.loopexit, !dbg !626\l}"];
	Node0x562576b93500 -> Node0x562576b3e400;
	Node0x562576b3e400 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#f3947570",label="{cleanup.loopexit:                                 \l  br label %cleanup, !dbg !626\l}"];
	Node0x562576b3e400 -> Node0x562576a0d810;
	Node0x562576a0d810 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{cleanup:                                          \l  call void @llvm.lifetime.end.p0i8(i64 32, i8* nonnull %0) #9, !dbg !626\l  ret void, !dbg !626\l}"];
}
