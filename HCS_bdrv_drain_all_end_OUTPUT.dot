digraph "CFG for 'bdrv_drain_all_end' function" {
	label="CFG for 'bdrv_drain_all_end' function";

	Node0x55cda4319fe0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %drained_end_counter = alloca i32, align 4\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* null, metadata\l... !2551, metadata !DIExpression()), !dbg !2566\l  %0 = bitcast i32* %drained_end_counter to i8*, !dbg !2567\l  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2567\l  call void @llvm.dbg.value(metadata i32 0, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  store i32 0, i32* %drained_end_counter, align 4, !dbg !2568\l  %call = tail call zeroext i1 @replay_events_enabled() #14, !dbg !2569\l  br i1 %call, label %cleanup, label %while.cond.preheader, !dbg !2571, !prof\l... !2572\l|{<s0>T|<s1>F}}"];
	Node0x55cda4319fe0:s0 -> Node0x55cda431d740;
	Node0x55cda4319fe0:s1 -> Node0x55cda4312f30;
	Node0x55cda4312f30 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.cond.preheader:                             \l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* null, metadata\l... !2551, metadata !DIExpression()), !dbg !2566\l  %call164 = call %struct.BlockDriverState*\l... @bdrv_next_all_states(%struct.BlockDriverState* null) #14, !dbg !2573\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call164,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %tobool65 = icmp eq %struct.BlockDriverState* %call164, null, !dbg !2574\l  br i1 %tobool65, label %while.end, label %while.body.preheader, !dbg !2574,\l... !prof !2575\l|{<s0>T|<s1>F}}"];
	Node0x55cda4312f30:s0 -> Node0x55cda431dab0;
	Node0x55cda4312f30:s1 -> Node0x55cda48784f0;
	Node0x55cda48784f0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#bb1b2c70",label="{while.body.preheader:                             \l  br label %while.body.peel.begin, !dbg !2574\l}"];
	Node0x55cda48784f0 -> Node0x55cda47bf800;
	Node0x55cda47bf800 [shape=record,color="#b70d28ff", style=filled, fillcolor="#bb1b2c70",label="{while.body.peel.begin:                            \l  br label %while.body.peel, !dbg !2574\l}"];
	Node0x55cda47bf800 -> Node0x55cda47bf6a0;
	Node0x55cda47bf6a0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#bb1b2c70",label="{while.body.peel:                                  \l  %call2.peel = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* nonnull %call164) #14, !dbg\l... !2576\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call2.peel, metadata\l... !2553, metadata !DIExpression()), !dbg !2577\l  call void @aio_context_acquire(%struct.AioContext* %call2.peel) #14, !dbg\l... !2578\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2552, metadata !DIExpression(DW_OP_deref)), !dbg !2566\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* nonnull\l... %call164, i1 zeroext false, %struct.BdrvChild* null, i1 zeroext true, i32*\l... nonnull %drained_end_counter), !dbg !2579\l  call void @aio_context_release(%struct.AioContext* %call2.peel) #14, !dbg\l... !2580\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call164,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %call1.peel = call %struct.BlockDriverState*\l... @bdrv_next_all_states(%struct.BlockDriverState* nonnull %call164) #14, !dbg\l... !2573\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1.peel,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %tobool.peel = icmp eq %struct.BlockDriverState* %call1.peel, null, !dbg\l... !2574\l  br i1 %tobool.peel, label %while.end.loopexit, label %while.body.peel.next,\l... !dbg !2574, !prof !2575\l|{<s0>T|<s1>F}}"];
	Node0x55cda47bf6a0:s0 -> Node0x55cda45b9170;
	Node0x55cda47bf6a0:s1 -> Node0x55cda4609f60;
	Node0x55cda4609f60 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{while.body.peel.next:                             \l  br label %while.body.peel69, !dbg !2574\l}"];
	Node0x55cda4609f60 -> Node0x55cda4825b50;
	Node0x55cda4825b50 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#be242e70",label="{while.body.peel69:                                \l  %call2.peel70 = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* nonnull %call1.peel) #14,\l... !dbg !2576\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call2.peel70,\l... metadata !2553, metadata !DIExpression()), !dbg !2577\l  call void @aio_context_acquire(%struct.AioContext* %call2.peel70) #14, !dbg\l... !2578\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2552, metadata !DIExpression(DW_OP_deref)), !dbg !2566\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* nonnull\l... %call1.peel, i1 zeroext false, %struct.BdrvChild* null, i1 zeroext true, i32*\l... nonnull %drained_end_counter), !dbg !2579\l  call void @aio_context_release(%struct.AioContext* %call2.peel70) #14, !dbg\l... !2580\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1.peel,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %call1.peel71 = call %struct.BlockDriverState*\l... @bdrv_next_all_states(%struct.BlockDriverState* nonnull %call1.peel) #14,\l... !dbg !2573\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1.peel71,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %tobool.peel72 = icmp eq %struct.BlockDriverState* %call1.peel71, null, !dbg\l... !2574\l  br i1 %tobool.peel72, label %while.end.loopexit, label\l... %while.body.peel.next68, !dbg !2574, !prof !2581\l|{<s0>T|<s1>F}}"];
	Node0x55cda4825b50:s0 -> Node0x55cda45b9170;
	Node0x55cda4825b50:s1 -> Node0x55cda4825840;
	Node0x55cda4825840 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next68:                           \l  br label %while.body.peel74, !dbg !2574\l}"];
	Node0x55cda4825840 -> Node0x55cda45968f0;
	Node0x55cda45968f0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel74:                                \l  %call2.peel75 = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* nonnull %call1.peel71) #14,\l... !dbg !2576\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call2.peel75,\l... metadata !2553, metadata !DIExpression()), !dbg !2577\l  call void @aio_context_acquire(%struct.AioContext* %call2.peel75) #14, !dbg\l... !2578\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2552, metadata !DIExpression(DW_OP_deref)), !dbg !2566\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* nonnull\l... %call1.peel71, i1 zeroext false, %struct.BdrvChild* null, i1 zeroext true,\l... i32* nonnull %drained_end_counter), !dbg !2579\l  call void @aio_context_release(%struct.AioContext* %call2.peel75) #14, !dbg\l... !2580\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1.peel71,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %call1.peel76 = call %struct.BlockDriverState*\l... @bdrv_next_all_states(%struct.BlockDriverState* nonnull %call1.peel71) #14,\l... !dbg !2573\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1.peel76,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %tobool.peel77 = icmp eq %struct.BlockDriverState* %call1.peel76, null, !dbg\l... !2574\l  br i1 %tobool.peel77, label %while.end.loopexit, label\l... %while.body.peel.next73, !dbg !2574, !prof !2582\l|{<s0>T|<s1>F}}"];
	Node0x55cda45968f0:s0 -> Node0x55cda45b9170;
	Node0x55cda45968f0:s1 -> Node0x55cda47589c0;
	Node0x55cda47589c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next73:                           \l  br label %while.body.peel.next78, !dbg !2574\l}"];
	Node0x55cda47589c0 -> Node0x55cda4410990;
	Node0x55cda4410990 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next78:                           \l  br label %while.body.preheader.peel.newph, !dbg !2574\l}"];
	Node0x55cda4410990 -> Node0x55cda47bf650;
	Node0x55cda47bf650 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader.peel.newph:                  \l  br label %while.body, !dbg !2574\l}"];
	Node0x55cda47bf650 -> Node0x55cda431de20;
	Node0x55cda431de20 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body:                                       \l  %call166 = phi %struct.BlockDriverState* [ %call1, %while.body ], [\l... %call1.peel76, %while.body.preheader.peel.newph ]\l  %call2 = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* nonnull %call166) #14, !dbg\l... !2576\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call2, metadata\l... !2553, metadata !DIExpression()), !dbg !2577\l  call void @aio_context_acquire(%struct.AioContext* %call2) #14, !dbg !2578\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2552, metadata !DIExpression(DW_OP_deref)), !dbg !2566\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* nonnull\l... %call166, i1 zeroext false, %struct.BdrvChild* null, i1 zeroext true, i32*\l... nonnull %drained_end_counter), !dbg !2579\l  call void @aio_context_release(%struct.AioContext* %call2) #14, !dbg !2580\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call166,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %call1 = call %struct.BlockDriverState*\l... @bdrv_next_all_states(%struct.BlockDriverState* nonnull %call166) #14, !dbg\l... !2573\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %call1,\l... metadata !2551, metadata !DIExpression()), !dbg !2566\l  %tobool = icmp eq %struct.BlockDriverState* %call1, null, !dbg !2574\l  br i1 %tobool, label %while.end.loopexit.loopexit, label %while.body, !dbg\l... !2574, !prof !2582, !llvm.loop !2583\l|{<s0>T|<s1>F}}"];
	Node0x55cda431de20:s0 -> Node0x55cda4410d40;
	Node0x55cda431de20:s1 -> Node0x55cda431de20;
	Node0x55cda4410d40 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.end.loopexit.loopexit:                      \l  br label %while.end.loopexit, !dbg !2587\l}"];
	Node0x55cda4410d40 -> Node0x55cda45b9170;
	Node0x55cda45b9170 [shape=record,color="#b70d28ff", style=filled, fillcolor="#bb1b2c70",label="{while.end.loopexit:                               \l  br label %while.end, !dbg !2587\l}"];
	Node0x55cda45b9170 -> Node0x55cda431dab0;
	Node0x55cda431dab0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.end:                                        \l  %call3 = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2587\l  %call4 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2587\l  %cmp = icmp eq %struct.AioContext* %call3, %call4, !dbg !2587\l  br i1 %cmp, label %if.end6, label %if.else, !dbg !2590, !prof !2591\l|{<s0>T|<s1>F}}"];
	Node0x55cda431dab0:s0 -> Node0x55cda431efb0;
	Node0x55cda431dab0:s1 -> Node0x55cda431f000;
	Node0x55cda431f000 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else:                                          \l  call void @__assert_fail(i8* getelementptr inbounds ([57 x i8], [57 x i8]*\l... @.str, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]*\l... @.str.1, i64 0, i64 0), i32 657, i8* getelementptr inbounds ([30 x i8], [30 x\l... i8]* @__PRETTY_FUNCTION__.bdrv_drain_all_end, i64 0, i64 0)) #15, !dbg !2587\l  unreachable, !dbg !2587\l}"];
	Node0x55cda431efb0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end6:                                          \l  call void @llvm.dbg.value(metadata i8 0, metadata !2555, metadata\l... !DIExpression()), !dbg !2592\l  call void @llvm.dbg.value(metadata %struct.AioWait* @global_aio_wait,\l... metadata !2557, metadata !DIExpression()), !dbg !2592\l  call void @llvm.dbg.value(metadata %struct.AioContext* null, metadata !2564,\l... metadata !DIExpression()), !dbg !2592\l  %1 = atomicrmw add i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2593\l  %call17 = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2594\l  %call18 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2594\l  %cmp19 = icmp eq %struct.AioContext* %call17, %call18, !dbg !2594\l  br i1 %cmp19, label %while.cond23.preheader, label %if.else21, !dbg !2599,\l... !prof !2591\l|{<s0>T|<s1>F}}"];
	Node0x55cda431efb0:s0 -> Node0x55cda4464930;
	Node0x55cda431efb0:s1 -> Node0x55cda43220a0;
	Node0x55cda4464930 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.cond23.preheader:                           \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2592\l  %2 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2600\l  call void @llvm.dbg.value(metadata i32 %2, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp2663 = icmp sgt i32 %2, 0, !dbg !2602\l  br i1 %cmp2663, label %if.end30.preheader, label %if.end37, !dbg !2602,\l... !prof !2572\l|{<s0>T|<s1>F}}"];
	Node0x55cda4464930:s0 -> Node0x55cda4596940;
	Node0x55cda4464930:s1 -> Node0x55cda4320cc0;
	Node0x55cda4596940 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.preheader:                               \l  br label %if.end30.peel.begin, !dbg !2602\l}"];
	Node0x55cda4596940 -> Node0x55cda46f49c0;
	Node0x55cda46f49c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.peel.begin:                              \l  br label %if.end30.peel, !dbg !2602\l}"];
	Node0x55cda46f49c0 -> Node0x55cda489b980;
	Node0x55cda489b980 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.peel:                                    \l  %call31.peel = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg\l... !2603\l  %call32.peel = call zeroext i1 @aio_poll(%struct.AioContext* %call31.peel,\l... i1 zeroext true) #14, !dbg !2603\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2592\l  %3 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2600\l  call void @llvm.dbg.value(metadata i32 %3, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp26.peel = icmp sgt i32 %3, 0, !dbg !2602\l  br i1 %cmp26.peel, label %if.end30.peel.next, label %if.end37.loopexit, !dbg\l... !2602, !prof !2572\l|{<s0>T|<s1>F}}"];
	Node0x55cda489b980:s0 -> Node0x55cda44b4540;
	Node0x55cda489b980:s1 -> Node0x55cda4874870;
	Node0x55cda44b4540 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.peel.next:                               \l  br label %if.end30.peel.next67, !dbg !2602\l}"];
	Node0x55cda44b4540 -> Node0x55cda461de20;
	Node0x55cda461de20 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.peel.next67:                             \l  br label %if.end30.preheader.peel.newph, !dbg !2602\l}"];
	Node0x55cda461de20 -> Node0x55cda489b7a0;
	Node0x55cda489b7a0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30.preheader.peel.newph:                    \l  br label %if.end30, !dbg !2602\l}"];
	Node0x55cda489b7a0 -> Node0x55cda43209f0;
	Node0x55cda43220a0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else21:                                        \l  call void @__assert_fail(i8* getelementptr inbounds ([57 x i8], [57 x i8]*\l... @.str, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]*\l... @.str.1, i64 0, i64 0), i32 658, i8* getelementptr inbounds ([30 x i8], [30 x\l... i8]* @__PRETTY_FUNCTION__.bdrv_drain_all_end, i64 0, i64 0)) #15, !dbg !2594\l  unreachable, !dbg !2594\l}"];
	Node0x55cda43209f0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end30:                                         \l  %call31 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2603\l  %call32 = call zeroext i1 @aio_poll(%struct.AioContext* %call31, i1 zeroext\l... true) #14, !dbg !2603\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2592\l  %4 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2600\l  call void @llvm.dbg.value(metadata i32 %4, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp26 = icmp sgt i32 %4, 0, !dbg !2602\l  br i1 %cmp26, label %if.end30, label %if.end37.loopexit.loopexit, !dbg\l... !2602, !prof !2572, !llvm.loop !2605\l|{<s0>T|<s1>F}}"];
	Node0x55cda43209f0:s0 -> Node0x55cda43209f0;
	Node0x55cda43209f0:s1 -> Node0x55cda45b9350;
	Node0x55cda45b9350 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end37.loopexit.loopexit:                       \l  br label %if.end37.loopexit, !dbg !2593\l}"];
	Node0x55cda45b9350 -> Node0x55cda4874870;
	Node0x55cda4874870 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end37.loopexit:                                \l  br label %if.end37, !dbg !2593\l}"];
	Node0x55cda4874870 -> Node0x55cda4320cc0;
	Node0x55cda4320cc0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end37:                                         \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2592\l  %5 = atomicrmw sub i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2593\l  %6 = load i32, i32* @bdrv_drain_all_count, align 4, !dbg !2607\l  %cmp44 = icmp eq i32 %6, 0, !dbg !2607\l  br i1 %cmp44, label %if.else46, label %if.end47, !dbg !2610, !prof !2572\l|{<s0>T|<s1>F}}"];
	Node0x55cda4320cc0:s0 -> Node0x55cda4324a60;
	Node0x55cda4320cc0:s1 -> Node0x55cda4324a10;
	Node0x55cda4324a60 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else46:                                        \l  call void @__assert_fail(i8* getelementptr inbounds ([25 x i8], [25 x i8]*\l... @.str.7, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]*\l... @.str.1, i64 0, i64 0), i32 660, i8* getelementptr inbounds ([30 x i8], [30 x\l... i8]* @__PRETTY_FUNCTION__.bdrv_drain_all_end, i64 0, i64 0)) #15, !dbg !2607\l  unreachable, !dbg !2607\l}"];
	Node0x55cda4324a10 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end47:                                         \l  %dec = add i32 %6, -1, !dbg !2611\l  store i32 %dec, i32* @bdrv_drain_all_count, align 4, !dbg !2611\l  br label %cleanup, !dbg !2612\l}"];
	Node0x55cda4324a10 -> Node0x55cda431d740;
	Node0x55cda431d740 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{cleanup:                                          \l  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2612\l  ret void, !dbg !2612\l}"];
}
