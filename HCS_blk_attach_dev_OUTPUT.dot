digraph "CFG for 'blk_attach_dev' function" {
	label="CFG for 'blk_attach_dev' function";

	Node0x55d70fc0e850 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  call void @llvm.dbg.value(metadata %struct.BlockBackend* %blk, metadata\l... !3090, metadata !DIExpression()), !dbg !3093\l  call void @llvm.dbg.value(metadata %struct.DeviceState* %dev, metadata\l... !3091, metadata !DIExpression()), !dbg !3093\l  %dev1 = getelementptr inbounds %struct.BlockBackend, %struct.BlockBackend*\l... %blk, i64 0, i32 8, !dbg !3094\l  %0 = load %struct.DeviceState*, %struct.DeviceState** %dev1, align 8, !dbg\l... !3094\l  %tobool = icmp eq %struct.DeviceState* %0, null, !dbg !3096\l  br i1 %tobool, label %if.end, label %return, !dbg !3097, !prof !3098\l|{<s0>T|<s1>F}}"];
	Node0x55d70fc0e850:s0 -> Node0x55d70fc0f380;
	Node0x55d70fc0e850:s1 -> Node0x55d70fc0e660;
	Node0x55d70fc0f380 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end:                                           \l  %call = tail call zeroext i1 @runstate_check(i32 1) #27, !dbg !3099\l  br i1 %call, label %if.then2, label %if.end3, !dbg !3101, !prof !3102\l|{<s0>T|<s1>F}}"];
	Node0x55d70fc0f380:s0 -> Node0x55d70fc0f980;
	Node0x55d70fc0f380:s1 -> Node0x55d70fc0f9f0;
	Node0x55d70fc0f980 [shape=record,penwidth=3.0, color="red",label="{if.then2:                                         \l  %disable_perm = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 21, !dbg !3103\l  store i8 1, i8* %disable_perm, align 8, !dbg !3105\l  br label %if.end3, !dbg !3106\l}"];
	Node0x55d70fc0f980 -> Node0x55d70fc0f9f0;
	Node0x55d70fc0f9f0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end3:                                          \l  call void @llvm.dbg.value(metadata %struct.BlockBackend* %blk, metadata\l... !3107, metadata !DIExpression()) #27, !dbg !3112\l  %refcnt.i = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 1, !dbg !3114\l  %1 = load i32, i32* %refcnt.i, align 8, !dbg !3114\l  %cmp.i = icmp sgt i32 %1, 0, !dbg !3114\l  br i1 %cmp.i, label %blk_ref.exit, label %if.else.i, !dbg !3117, !prof !3098\l|{<s0>T|<s1>F}}"];
	Node0x55d70fc0f9f0:s0 -> Node0x55d70fe93090;
	Node0x55d70fc0f9f0:s1 -> Node0x55d70fba3d90;
	Node0x55d70fba3d90 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else.i:                                        \l  tail call void @__assert_fail(i8* getelementptr inbounds ([16 x i8], [16 x\l... i8]* @.str.1, i64 0, i64 0), i8* getelementptr inbounds ([22 x i8], [22 x\l... i8]* @.str.2, i64 0, i64 0), i32 482, i8* getelementptr inbounds ([29 x i8],\l... [29 x i8]* @__PRETTY_FUNCTION__.blk_ref, i64 0, i64 0)) #28, !dbg !3114\l  unreachable, !dbg !3114\l}"];
	Node0x55d70fe93090 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{blk_ref.exit:                                     \l  %inc.i = add nuw i32 %1, 1, !dbg !3118\l  store i32 %inc.i, i32* %refcnt.i, align 8, !dbg !3118\l  store %struct.DeviceState* %dev, %struct.DeviceState** %dev1, align 8, !dbg\l... !3119\l  call void @llvm.dbg.value(metadata %struct.BlockBackend* %blk, metadata\l... !3120, metadata !DIExpression()), !dbg !3123\l  call void @llvm.dbg.value(metadata %struct.BlockBackend* %blk, metadata\l... !3125, metadata !DIExpression()), !dbg !3132\l  %iostatus_enabled.i.i = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 17, !dbg !3135\l  %2 = load i8, i8* %iostatus_enabled.i.i, align 8, !dbg !3135, !range !3136\l  %tobool.i.i = icmp eq i8 %2, 0, !dbg !3135\l  br i1 %tobool.i.i, label %return, label %land.rhs.i.i, !dbg !3137, !prof\l... !3098\l|{<s0>T|<s1>F}}"];
	Node0x55d70fe93090:s0 -> Node0x55d70fc0e660;
	Node0x55d70fe93090:s1 -> Node0x55d70fe7f160;
	Node0x55d70fe7f160 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{land.rhs.i.i:                                     \l  %on_write_error.i.i = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 16, !dbg !3138\l  %3 = load i32, i32* %on_write_error.i.i, align 4, !dbg !3138\l  %4 = and i32 %3, -2, !dbg !3139\l  %switch.i.i = icmp eq i32 %4, 2, !dbg !3139\l  br i1 %switch.i.i, label %if.then.i, label %lor.rhs.i.i, !dbg !3139\l|{<s0>T|<s1>F}}"];
	Node0x55d70fe7f160:s0 -> Node0x55d70fc9f4f0;
	Node0x55d70fe7f160:s1 -> Node0x55d70fe959e0;
	Node0x55d70fe959e0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{lor.rhs.i.i:                                      \l  %on_read_error.i.i = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 15, !dbg !3140\l  %5 = load i32, i32* %on_read_error.i.i, align 8, !dbg !3140\l  %cmp3.i.i = icmp eq i32 %5, 3, !dbg !3141\l  br i1 %cmp3.i.i, label %if.then.i, label %return, !dbg !3142\l|{<s0>T|<s1>F}}"];
	Node0x55d70fe959e0:s0 -> Node0x55d70fc9f4f0;
	Node0x55d70fe959e0:s1 -> Node0x55d70fc0e660;
	Node0x55d70fc9f4f0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then.i:                                        \l  %iostatus.i = getelementptr inbounds %struct.BlockBackend,\l... %struct.BlockBackend* %blk, i64 0, i32 18, !dbg !3143\l  store i32 0, i32* %iostatus.i, align 4, !dbg !3145\l  br label %return, !dbg !3146\l}"];
	Node0x55d70fc9f4f0 -> Node0x55d70fc0e660;
	Node0x55d70fc0e660 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{return:                                           \l  %retval.0 = phi i32 [ -16, %entry ], [ 0, %blk_ref.exit ], [ 0, %lor.rhs.i.i\l... ], [ 0, %if.then.i ], !dbg !3093\l  ret i32 %retval.0, !dbg !3147\l}"];
}
