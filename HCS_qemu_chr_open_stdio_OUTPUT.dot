digraph "CFG for 'qemu_chr_open_stdio' function" {
	label="CFG for 'qemu_chr_open_stdio' function";

	Node0x56122479bd90 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %tty.i = alloca %struct.termios, align 4\l  %act = alloca %struct.sigaction, align 8\l  call void @llvm.dbg.value(metadata %struct.Chardev* %chr, metadata !676,\l... metadata !DIExpression()), !dbg !786\l  call void @llvm.dbg.value(metadata %struct.ChardevBackend* %backend,\l... metadata !677, metadata !DIExpression()), !dbg !786\l  call void @llvm.dbg.value(metadata i8* %be_opened, metadata !678, metadata\l... !DIExpression()), !dbg !786\l  call void @llvm.dbg.value(metadata %struct.Error** %errp, metadata !679,\l... metadata !DIExpression()), !dbg !786\l  %u = getelementptr inbounds %struct.ChardevBackend, %struct.ChardevBackend*\l... %backend, i64 0, i32 1, !dbg !787\l  %data = bitcast %union.anon* %u to %struct.ChardevStdio**, !dbg !788\l  %0 = load %struct.ChardevStdio*, %struct.ChardevStdio** %data, align 8, !dbg\l... !788\l  call void @llvm.dbg.value(metadata %struct.ChardevStdio* %0, metadata !680,\l... metadata !DIExpression()), !dbg !786\l  %1 = bitcast %struct.sigaction* %act to i8*, !dbg !789\l  call void @llvm.lifetime.start.p0i8(i64 152, i8* nonnull %1) #8, !dbg !789\l  call void @llvm.dbg.declare(metadata %struct.sigaction* %act, metadata !681,\l... metadata !DIExpression()), !dbg !790\l  %call = tail call zeroext i1 @is_daemonized() #8, !dbg !791\l  br i1 %call, label %if.then, label %if.end, !dbg !793, !prof !794\l|{<s0>T|<s1>F}}"];
	Node0x56122479bd90:s0 -> Node0x5612247b9600;
	Node0x56122479bd90:s1 -> Node0x5612247b9650;
	Node0x5612247b9600 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then:                                          \l  tail call void (%struct.Error**, i8*, i32, i8*, i8*, ...)\l... @error_setg_internal(%struct.Error** %errp, i8* getelementptr inbounds ([21 x\l... i8], [21 x i8]* @.str.3, i64 0, i64 0), i32 94, i8* getelementptr inbounds\l... ([20 x i8], [20 x i8]* @__func__.qemu_chr_open_stdio, i64 0, i64 0), i8*\l... getelementptr inbounds ([33 x i8], [33 x i8]* @.str.5, i64 0, i64 0)) #8,\l... !dbg !795\l  br label %cleanup, !dbg !797\l}"];
	Node0x5612247b9600 -> Node0x5612247ba040;
	Node0x5612247b9650 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end:                                           \l  %.b16 = load i1, i1* @stdio_in_use, align 1, !dbg !798\l  br i1 %.b16, label %if.then1, label %if.end2, !dbg !800, !prof !794\l|{<s0>T|<s1>F}}"];
	Node0x5612247b9650:s0 -> Node0x5612247bac00;
	Node0x5612247b9650:s1 -> Node0x5612247bac50;
	Node0x5612247bac00 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then1:                                         \l  tail call void (%struct.Error**, i8*, i32, i8*, i8*, ...)\l... @error_setg_internal(%struct.Error** %errp, i8* getelementptr inbounds ([21 x\l... i8], [21 x i8]* @.str.3, i64 0, i64 0), i32 99, i8* getelementptr inbounds\l... ([20 x i8], [20 x i8]* @__func__.qemu_chr_open_stdio, i64 0, i64 0), i8*\l... getelementptr inbounds ([47 x i8], [47 x i8]* @.str.6, i64 0, i64 0)) #8,\l... !dbg !801\l  br label %cleanup, !dbg !803\l}"];
	Node0x5612247bac00 -> Node0x5612247ba040;
	Node0x5612247bac50 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end2:                                          \l  store i1 true, i1* @stdio_in_use, align 1, !dbg !804\l  %call3 = tail call i32 (i32, i32, ...) @fcntl(i32 0, i32 3) #8, !dbg !805\l  store i32 %call3, i32* @old_fd0_flags, align 4, !dbg !806\l  %call4 = tail call i32 @tcgetattr(i32 0, %struct.termios* nonnull @oldtty)\l... #8, !dbg !807\l  tail call void @qemu_set_nonblock(i32 0) #8, !dbg !808\l  %call5 = tail call i32 @atexit(void ()* nonnull @term_exit) #8, !dbg !809\l  %2 = getelementptr inbounds %struct.sigaction, %struct.sigaction* %act, i64\l... 0, i32 1, !dbg !810\l  %3 = bitcast %struct.__sigset_t* %2 to i8*, !dbg !810\l  call void @llvm.memset.p0i8.i64(i8* nonnull align 8 dereferenceable(152) %3,\l... i8 0, i64 144, i1 false), !dbg !810\l  %sa_handler = getelementptr inbounds %struct.sigaction, %struct.sigaction*\l... %act, i64 0, i32 0, i32 0, !dbg !811\l  store void (i32)* @term_stdio_handler, void (i32)** %sa_handler, align 8,\l... !dbg !812\l  %call6 = call i32 @sigaction(i32 18, %struct.sigaction* nonnull %act,\l... %struct.sigaction* null) #8, !dbg !813\l  call void @qemu_chr_open_fd(%struct.Chardev* %chr, i32 0, i32 1) #8, !dbg\l... !814\l  %has_signal = getelementptr inbounds %struct.ChardevStdio,\l... %struct.ChardevStdio* %0, i64 0, i32 4, !dbg !815\l  %4 = load i8, i8* %has_signal, align 2, !dbg !815, !range !817\l  %tobool7 = icmp eq i8 %4, 0, !dbg !815\l  br i1 %tobool7, label %if.end2.if.end10_crit_edge, label %if.then8, !dbg\l... !818, !prof !794\l|{<s0>T|<s1>F}}"];
	Node0x5612247bac50:s0 -> Node0x5612247652d0;
	Node0x5612247bac50:s1 -> Node0x561224397040;
	Node0x5612247652d0 [shape=record,penwidth=3.0, color="red",label="{if.end2.if.end10_crit_edge:                       \l  %.pre = load i8, i8* @stdio_allow_signal, align 1, !dbg !819, !range !817\l  br label %if.end10, !dbg !818\l}"];
	Node0x5612247652d0 -> Node0x5612247bef80;
	Node0x561224397040 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.then8:                                         \l  %signal = getelementptr inbounds %struct.ChardevStdio, %struct.ChardevStdio*\l... %0, i64 0, i32 5, !dbg !827\l  %5 = load i8, i8* %signal, align 1, !dbg !827, !range !817\l  store i8 %5, i8* @stdio_allow_signal, align 1, !dbg !829\l  br label %if.end10, !dbg !830\l}"];
	Node0x561224397040 -> Node0x5612247bef80;
	Node0x5612247bef80 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end10:                                         \l  %6 = phi i8 [ %.pre, %if.end2.if.end10_crit_edge ], [ %5, %if.then8 ], !dbg\l... !819\l  call void @llvm.dbg.value(metadata %struct.Chardev* %chr, metadata !823,\l... metadata !DIExpression()) #8, !dbg !831\l  call void @llvm.dbg.value(metadata i8 0, metadata !824, metadata\l... !DIExpression()) #8, !dbg !831\l  %7 = bitcast %struct.termios* %tty.i to i8*, !dbg !832\l  call void @llvm.lifetime.start.p0i8(i64 60, i8* nonnull %7) #8, !dbg !832\l  call void @llvm.dbg.declare(metadata %struct.termios* %tty.i, metadata !825,\l... metadata !DIExpression()) #8, !dbg !833\l  store i8 0, i8* @stdio_echo_state, align 1, !dbg !834\l  call void @llvm.memcpy.p0i8.p0i8.i64(i8* nonnull align 4 dereferenceable(60)\l... %7, i8* nonnull align 4 dereferenceable(60) bitcast (%struct.termios* @oldtty\l... to i8*), i64 60, i1 false) #8, !dbg !835\l  %c_iflag.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 0, !dbg !836\l  %8 = load i32, i32* %c_iflag.i, align 4, !dbg !839\l  %and.i = and i32 %8, -1516, !dbg !839\l  store i32 %and.i, i32* %c_iflag.i, align 4, !dbg !839\l  %c_oflag.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 1, !dbg !840\l  %9 = load i32, i32* %c_oflag.i, align 4, !dbg !841\l  %or.i = or i32 %9, 1, !dbg !841\l  store i32 %or.i, i32* %c_oflag.i, align 4, !dbg !841\l  %c_lflag.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 3, !dbg !842\l  %10 = load i32, i32* %c_lflag.i, align 4, !dbg !843\l  %and3.i = and i32 %10, -32843, !dbg !843\l  store i32 %and3.i, i32* %c_lflag.i, align 4, !dbg !843\l  %c_cflag.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 2, !dbg !844\l  %11 = load i32, i32* %c_cflag.i, align 4, !dbg !845\l  %and4.i = and i32 %11, -305, !dbg !845\l  %or6.i = or i32 %and4.i, 48, !dbg !846\l  store i32 %or6.i, i32* %c_cflag.i, align 4, !dbg !846\l  %arrayidx.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 5, i64 6, !dbg !847\l  store i8 1, i8* %arrayidx.i, align 1, !dbg !848\l  %arrayidx8.i = getelementptr inbounds %struct.termios, %struct.termios*\l... %tty.i, i64 0, i32 5, i64 5, !dbg !849\l  store i8 0, i8* %arrayidx8.i, align 1, !dbg !850\l  %tobool9.i = icmp eq i8 %6, 0, !dbg !819\l  br i1 %tobool9.i, label %if.then10.i, label %qemu_chr_set_echo_stdio.exit,\l... !dbg !851, !prof !852\l|{<s0>T|<s1>F}}"];
	Node0x5612247bef80:s0 -> Node0x5612248a4670;
	Node0x5612247bef80:s1 -> Node0x5612248b1c10;
	Node0x5612248a4670 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.then10.i:                                      \l  %and12.i = and i32 %10, -32844, !dbg !853\l  store i32 %and12.i, i32* %c_lflag.i, align 4, !dbg !853\l  br label %qemu_chr_set_echo_stdio.exit, !dbg !855\l}"];
	Node0x5612248a4670 -> Node0x5612248b1c10;
	Node0x5612248b1c10 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{qemu_chr_set_echo_stdio.exit:                     \l  %call.i = call i32 @tcsetattr(i32 0, i32 0, %struct.termios* nonnull %tty.i)\l... #8, !dbg !856\l  call void @llvm.lifetime.end.p0i8(i64 60, i8* nonnull %7) #8, !dbg !857\l  br label %cleanup, !dbg !858\l}"];
	Node0x5612248b1c10 -> Node0x5612247ba040;
	Node0x5612247ba040 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{cleanup:                                          \l  call void @llvm.lifetime.end.p0i8(i64 152, i8* nonnull %1) #8, !dbg !858\l  ret void, !dbg !858\l}"];
}
