digraph "CFG for 'bdrv_drained_end' function" {
	label="CFG for 'bdrv_drained_end' function";

	Node0x55cda42c5420 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %drained_end_counter = alloca i32, align 4\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %bs, metadata\l... !2551, metadata !DIExpression()), !dbg !2566\l  %0 = bitcast i32* %drained_end_counter to i8*, !dbg !2567\l  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2567\l  call void @llvm.dbg.value(metadata i32 0, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  store i32 0, i32* %drained_end_counter, align 4, !dbg !2568\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2552, metadata !DIExpression(DW_OP_deref)), !dbg !2566\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* %bs, i1\l... zeroext false, %struct.BdrvChild* null, i1 zeroext false, i32* nonnull\l... %drained_end_counter), !dbg !2569\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %bs, metadata\l... !2553, metadata !DIExpression()), !dbg !2570\l  call void @llvm.dbg.value(metadata i8 0, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  call void @llvm.dbg.value(metadata %struct.AioWait* @global_aio_wait,\l... metadata !2557, metadata !DIExpression()), !dbg !2571\l  %call = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* %bs) #14, !dbg !2572\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call, metadata\l... !2564, metadata !DIExpression()), !dbg !2571\l  %1 = atomicrmw add i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2572\l  %tobool = icmp ne %struct.AioContext* %call, null, !dbg !2573\l  br i1 %tobool, label %land.lhs.true, label %if.else, !dbg !2573, !prof !2575\l|{<s0>T|<s1>F}}"];
	Node0x55cda42c5420:s0 -> Node0x55cda42d81b0;
	Node0x55cda42c5420:s1 -> Node0x55cda42d8140;
	Node0x55cda42d81b0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{land.lhs.true:                                    \l  call void @llvm.dbg.value(metadata %struct.AioContext* %call, metadata\l... !2576, metadata !DIExpression()) #14, !dbg !2579\l  %call.i = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2581\l  %cmp.i = icmp eq %struct.AioContext* %call.i, %call, !dbg !2583\l  br i1 %cmp.i, label %while.cond.preheader, label %if.end.i, !dbg !2584,\l... !prof !2575\l|{<s0>T|<s1>F}}"];
	Node0x55cda42d81b0:s0 -> Node0x55cda4556c70;
	Node0x55cda42d81b0:s1 -> Node0x55cda46ec5a0;
	Node0x55cda46ec5a0 [shape=record,penwidth=3.0, color="red",label="{if.end.i:                                         \l  %call1.i = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2585\l  %cmp2.i = icmp eq %struct.AioContext* %call1.i, %call, !dbg !2587\l  br i1 %cmp2.i, label %if.then3.i, label %if.else, !dbg !2588\l|{<s0>T|<s1>F}}"];
	Node0x55cda46ec5a0:s0 -> Node0x55cda46c38e0;
	Node0x55cda46ec5a0:s1 -> Node0x55cda42d8140;
	Node0x55cda46c38e0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#dbdcde70",label="{if.then3.i:                                       \l  %call4.i = call zeroext i1 @qemu_mutex_iothread_locked() #14, !dbg !2589\l  br i1 %call4.i, label %while.cond.preheader, label %if.else, !dbg !2572\l|{<s0>T|<s1>F}}"];
	Node0x55cda46c38e0:s0 -> Node0x55cda4556c70;
	Node0x55cda46c38e0:s1 -> Node0x55cda42d8140;
	Node0x55cda4556c70 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.cond.preheader:                             \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %2 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2591\l  call void @llvm.dbg.value(metadata i32 %2, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp45 = icmp sgt i32 %2, 0, !dbg !2594\l  br i1 %cmp45, label %while.body.preheader, label %if.end24, !dbg !2594,\l... !prof !2595\l|{<s0>T|<s1>F}}"];
	Node0x55cda4556c70:s0 -> Node0x55cda4737370;
	Node0x55cda4556c70:s1 -> Node0x55cda42d80d0;
	Node0x55cda4737370 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader:                             \l  br label %while.body.peel.begin, !dbg !2594\l}"];
	Node0x55cda4737370 -> Node0x55cda4690ac0;
	Node0x55cda4690ac0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.begin:                            \l  br label %while.body.peel, !dbg !2594\l}"];
	Node0x55cda4690ac0 -> Node0x55cda4536730;
	Node0x55cda4536730 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel:                                  \l  %call4.peel = call zeroext i1 @aio_poll(%struct.AioContext* nonnull %call,\l... i1 zeroext true) #14, !dbg !2596\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %3 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2591\l  call void @llvm.dbg.value(metadata i32 %3, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp.peel = icmp sgt i32 %3, 0, !dbg !2594\l  br i1 %cmp.peel, label %while.body.peel.next, label %if.end24.loopexit, !dbg\l... !2594, !prof !2595\l|{<s0>T|<s1>F}}"];
	Node0x55cda4536730:s0 -> Node0x55cda44b7e00;
	Node0x55cda4536730:s1 -> Node0x55cda4547cd0;
	Node0x55cda44b7e00 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next:                             \l  br label %while.body.peel.next51, !dbg !2594\l}"];
	Node0x55cda44b7e00 -> Node0x55cda44f1620;
	Node0x55cda44f1620 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next51:                           \l  br label %while.body.preheader.peel.newph, !dbg !2594\l}"];
	Node0x55cda44f1620 -> Node0x55cda44daa70;
	Node0x55cda44daa70 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader.peel.newph:                  \l  br label %while.body, !dbg !2594\l}"];
	Node0x55cda44daa70 -> Node0x55cda42d8db0;
	Node0x55cda42d8db0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body:                                       \l  %call4 = call zeroext i1 @aio_poll(%struct.AioContext* nonnull %call, i1\l... zeroext true) #14, !dbg !2596\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %4 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2591\l  call void @llvm.dbg.value(metadata i32 %4, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp = icmp sgt i32 %4, 0, !dbg !2594\l  br i1 %cmp, label %while.body, label %if.end24.loopexit.loopexit, !dbg\l... !2594, !prof !2595, !llvm.loop !2598\l|{<s0>T|<s1>F}}"];
	Node0x55cda42d8db0:s0 -> Node0x55cda42d8db0;
	Node0x55cda42d8db0:s1 -> Node0x55cda46c4740;
	Node0x55cda42d8140 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else:                                          \l  %call5 = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2601\l  %call6 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2601\l  %cmp7 = icmp eq %struct.AioContext* %call5, %call6, !dbg !2601\l  br i1 %cmp7, label %while.cond10.preheader, label %if.else9, !dbg !2605\l|{<s0>T|<s1>F}}"];
	Node0x55cda42d8140:s0 -> Node0x55cda445aa50;
	Node0x55cda42d8140:s1 -> Node0x55cda42d9600;
	Node0x55cda445aa50 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.cond10.preheader:                           \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %5 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2606\l  call void @llvm.dbg.value(metadata i32 %5, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp1346 = icmp sgt i32 %5, 0, !dbg !2608\l  br i1 %cmp1346, label %while.body14.preheader, label %if.end24, !dbg !2608\l|{<s0>T|<s1>F}}"];
	Node0x55cda445aa50:s0 -> Node0x55cda4609440;
	Node0x55cda445aa50:s1 -> Node0x55cda42d80d0;
	Node0x55cda4609440 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body14.preheader:                           \l  br label %while.body14, !dbg !2608\l}"];
	Node0x55cda4609440 -> Node0x55cda42da320;
	Node0x55cda42d9600 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else9:                                         \l  call void @__assert_fail(i8* getelementptr inbounds ([57 x i8], [57 x i8]*\l... @.str, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]*\l... @.str.1, i64 0, i64 0), i32 495, i8* getelementptr inbounds ([42 x i8], [42 x\l... i8]* @__PRETTY_FUNCTION__.bdrv_drained_end, i64 0, i64 0)) #15, !dbg !2601\l  unreachable, !dbg !2601\l}"];
	Node0x55cda42da320 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body14:                                     \l  br i1 %tobool, label %if.then16, label %if.end22.critedge, !dbg !2609\l|{<s0>T|<s1>F}}"];
	Node0x55cda42da320:s0 -> Node0x55cda42da500;
	Node0x55cda42da320:s1 -> Node0x55cda45423c0;
	Node0x55cda42da500 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then16:                                        \l  call void @aio_context_release(%struct.AioContext* nonnull %call) #14, !dbg\l... !2611\l  %call18 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2609\l  %call19 = call zeroext i1 @aio_poll(%struct.AioContext* %call18, i1 zeroext\l... true) #14, !dbg !2609\l  call void @aio_context_acquire(%struct.AioContext* nonnull %call) #14, !dbg\l... !2614\l  br label %if.end22, !dbg !2614\l}"];
	Node0x55cda42da500 -> Node0x55cda42daba0;
	Node0x55cda45423c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end22.critedge:                                \l  %call18.c = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2609\l  %call19.c = call zeroext i1 @aio_poll(%struct.AioContext* %call18.c, i1\l... zeroext true) #14, !dbg !2609\l  br label %if.end22, !dbg !2609\l}"];
	Node0x55cda45423c0 -> Node0x55cda42daba0;
	Node0x55cda42daba0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end22:                                         \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %6 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2606\l  call void @llvm.dbg.value(metadata i32 %6, metadata !2552, metadata\l... !DIExpression()), !dbg !2566\l  %cmp13 = icmp sgt i32 %6, 0, !dbg !2608\l  br i1 %cmp13, label %while.body14, label %if.end24.loopexit50, !dbg !2608,\l... !llvm.loop !2617\l|{<s0>T|<s1>F}}"];
	Node0x55cda42daba0:s0 -> Node0x55cda42da320;
	Node0x55cda42daba0:s1 -> Node0x55cda4494e10;
	Node0x55cda46c4740 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end24.loopexit.loopexit:                       \l  br label %if.end24.loopexit, !dbg !2572\l}"];
	Node0x55cda46c4740 -> Node0x55cda4547cd0;
	Node0x55cda4547cd0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end24.loopexit:                                \l  br label %if.end24, !dbg !2572\l}"];
	Node0x55cda4547cd0 -> Node0x55cda42d80d0;
	Node0x55cda4494e10 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end24.loopexit50:                              \l  br label %if.end24, !dbg !2572\l}"];
	Node0x55cda4494e10 -> Node0x55cda42d80d0;
	Node0x55cda42d80d0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end24:                                         \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2555, metadata\l... !DIExpression()), !dbg !2571\l  %7 = atomicrmw sub i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2572\l  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2618\l  ret void, !dbg !2618\l}"];
}
