digraph "CFG for 'bdrv_unapply_subtree_drain' function" {
	label="CFG for 'bdrv_unapply_subtree_drain' function";

	Node0x55cda42f3ce0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{entry:\l  %drained_end_counter = alloca i32, align 4\l  call void @llvm.dbg.value(metadata %struct.BdrvChild* %child, metadata\l... !2553, metadata !DIExpression()), !dbg !2570\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %old_parent,\l... metadata !2554, metadata !DIExpression()), !dbg !2570\l  %0 = bitcast i32* %drained_end_counter to i8*, !dbg !2571\l  call void @llvm.lifetime.start.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2571\l  call void @llvm.dbg.value(metadata i32 0, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  store i32 0, i32* %drained_end_counter, align 4, !dbg !2572\l  call void @llvm.dbg.value(metadata i32 0, metadata !2556, metadata\l... !DIExpression()), !dbg !2570\l  %recursive_quiesce_counter = getelementptr inbounds\l... %struct.BlockDriverState, %struct.BlockDriverState* %old_parent, i64 0, i32\l... 50, !dbg !2573\l  %1 = load i32, i32* %recursive_quiesce_counter, align 4, !dbg !2573\l  %cmp52 = icmp sgt i32 %1, 0, !dbg !2576\l  %bs = getelementptr inbounds %struct.BdrvChild, %struct.BdrvChild* %child,\l... i64 0, i32 0, !dbg !2570\l  %2 = load %struct.BlockDriverState*, %struct.BlockDriverState** %bs, align\l... 8, !dbg !2570\l  br i1 %cmp52, label %for.body.preheader, label %for.end, !dbg !2577, !prof\l... !2578\l|{<s0>T|<s1>F}}"];
	Node0x55cda42f3ce0:s0 -> Node0x55cda42f4070;
	Node0x55cda42f3ce0:s1 -> Node0x55cda42b2f70;
	Node0x55cda42f4070 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.preheader:                               \l  br label %for.body.peel.begin, !dbg !2577\l}"];
	Node0x55cda42f4070 -> Node0x55cda42dcbd0;
	Node0x55cda42dcbd0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.peel.begin:                              \l  br label %for.body.peel, !dbg !2577\l}"];
	Node0x55cda42dcbd0 -> Node0x55cda42a0180;
	Node0x55cda42a0180 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.peel:                                    \l  call void @llvm.dbg.value(metadata i32 0, metadata !2556, metadata\l... !DIExpression()), !dbg !2570\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2555, metadata !DIExpression(DW_OP_deref)), !dbg !2570\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* %2, i1\l... zeroext true, %struct.BdrvChild* nonnull %child, i1 zeroext false, i32*\l... nonnull %drained_end_counter), !dbg !2579\l  call void @llvm.dbg.value(metadata i32 1, metadata !2556, metadata\l... !DIExpression()), !dbg !2570\l  %3 = load i32, i32* %recursive_quiesce_counter, align 4, !dbg !2573\l  %cmp.peel = icmp sgt i32 %3, 1, !dbg !2576\l  %4 = load %struct.BlockDriverState*, %struct.BlockDriverState** %bs, align\l... 8, !dbg !2570\l  br i1 %cmp.peel, label %for.body.peel.next, label %for.end.loopexit, !dbg\l... !2577, !prof !2578\l|{<s0>T|<s1>F}}"];
	Node0x55cda42a0180:s0 -> Node0x55cda42dccc0;
	Node0x55cda42a0180:s1 -> Node0x55cda4617fe0;
	Node0x55cda42dccc0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.peel.next:                               \l  br label %for.body.peel.next63, !dbg !2577\l}"];
	Node0x55cda42dccc0 -> Node0x55cda42a0250;
	Node0x55cda42a0250 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.peel.next63:                             \l  br label %for.body.preheader.peel.newph, !dbg !2577\l}"];
	Node0x55cda42a0250 -> Node0x55cda42a00c0;
	Node0x55cda42a00c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body.preheader.peel.newph:                    \l  br label %for.body, !dbg !2577\l}"];
	Node0x55cda42a00c0 -> Node0x55cda42b3250;
	Node0x55cda42b3250 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.body:                                         \l  %5 = phi %struct.BlockDriverState* [ %7, %for.body ], [ %4,\l... %for.body.preheader.peel.newph ]\l  %i.053 = phi i32 [ %inc, %for.body ], [ 1, %for.body.preheader.peel.newph ]\l  call void @llvm.dbg.value(metadata i32 %i.053, metadata !2556, metadata\l... !DIExpression()), !dbg !2570\l  call void @llvm.dbg.value(metadata i32* %drained_end_counter, metadata\l... !2555, metadata !DIExpression(DW_OP_deref)), !dbg !2570\l  call fastcc void @bdrv_do_drained_end(%struct.BlockDriverState* %5, i1\l... zeroext true, %struct.BdrvChild* nonnull %child, i1 zeroext false, i32*\l... nonnull %drained_end_counter), !dbg !2579\l  %inc = add nuw nsw i32 %i.053, 1, !dbg !2581\l  call void @llvm.dbg.value(metadata i32 %inc, metadata !2556, metadata\l... !DIExpression()), !dbg !2570\l  %6 = load i32, i32* %recursive_quiesce_counter, align 4, !dbg !2573\l  %cmp = icmp slt i32 %inc, %6, !dbg !2576\l  %7 = load %struct.BlockDriverState*, %struct.BlockDriverState** %bs, align\l... 8, !dbg !2570\l  br i1 %cmp, label %for.body, label %for.end.loopexit.loopexit, !dbg !2577,\l... !prof !2578, !llvm.loop !2582\l|{<s0>T|<s1>F}}"];
	Node0x55cda42b3250:s0 -> Node0x55cda42b3250;
	Node0x55cda42b3250:s1 -> Node0x55cda463c050;
	Node0x55cda463c050 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.end.loopexit.loopexit:                        \l  %.lcssa64 = phi %struct.BlockDriverState* [ %7, %for.body ], !dbg !2570\l  br label %for.end.loopexit, !dbg !2586\l}"];
	Node0x55cda463c050 -> Node0x55cda4617fe0;
	Node0x55cda4617fe0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{for.end.loopexit:                                 \l  %.lcssa61 = phi %struct.BlockDriverState* [ %4, %for.body.peel ], [\l... %.lcssa64, %for.end.loopexit.loopexit ], !dbg !2570\l  br label %for.end, !dbg !2586\l}"];
	Node0x55cda4617fe0 -> Node0x55cda42b2f70;
	Node0x55cda42b2f70 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{for.end:                                          \l  %.lcssa = phi %struct.BlockDriverState* [ %2, %entry ], [ %.lcssa61,\l... %for.end.loopexit ], !dbg !2570\l  call void @llvm.dbg.value(metadata %struct.BlockDriverState* %.lcssa,\l... metadata !2557, metadata !DIExpression()), !dbg !2587\l  call void @llvm.dbg.value(metadata i8 0, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  call void @llvm.dbg.value(metadata %struct.AioWait* @global_aio_wait,\l... metadata !2561, metadata !DIExpression()), !dbg !2588\l  %call = call %struct.AioContext*\l... @bdrv_get_aio_context(%struct.BlockDriverState* %.lcssa) #14, !dbg !2586\l  call void @llvm.dbg.value(metadata %struct.AioContext* %call, metadata\l... !2568, metadata !DIExpression()), !dbg !2588\l  %8 = atomicrmw add i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2586\l  %tobool = icmp ne %struct.AioContext* %call, null, !dbg !2589\l  br i1 %tobool, label %land.lhs.true, label %if.else, !dbg !2589, !prof !2591\l|{<s0>T|<s1>F}}"];
	Node0x55cda42b2f70:s0 -> Node0x55cda42fc2f0;
	Node0x55cda42b2f70:s1 -> Node0x55cda42fc280;
	Node0x55cda42fc2f0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{land.lhs.true:                                    \l  call void @llvm.dbg.value(metadata %struct.AioContext* %call, metadata\l... !2592, metadata !DIExpression()) #14, !dbg !2595\l  %call.i = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2597\l  %cmp.i = icmp eq %struct.AioContext* %call.i, %call, !dbg !2599\l  br i1 %cmp.i, label %while.cond.preheader, label %if.end.i, !dbg !2600,\l... !prof !2591\l|{<s0>T|<s1>F}}"];
	Node0x55cda42fc2f0:s0 -> Node0x55cda428b580;
	Node0x55cda42fc2f0:s1 -> Node0x55cda4539030;
	Node0x55cda4539030 [shape=record,penwidth=3.0, color="red",label="{if.end.i:                                         \l  %call1.i = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2601\l  %cmp2.i = icmp eq %struct.AioContext* %call1.i, %call, !dbg !2603\l  br i1 %cmp2.i, label %if.then3.i, label %if.else, !dbg !2604\l|{<s0>T|<s1>F}}"];
	Node0x55cda4539030:s0 -> Node0x55cda44af120;
	Node0x55cda4539030:s1 -> Node0x55cda42fc280;
	Node0x55cda44af120 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#dbdcde70",label="{if.then3.i:                                       \l  %call4.i = call zeroext i1 @qemu_mutex_iothread_locked() #14, !dbg !2605\l  br i1 %call4.i, label %while.cond.preheader, label %if.else, !dbg !2586\l|{<s0>T|<s1>F}}"];
	Node0x55cda44af120:s0 -> Node0x55cda428b580;
	Node0x55cda44af120:s1 -> Node0x55cda42fc280;
	Node0x55cda428b580 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{while.cond.preheader:                             \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %9 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2607\l  call void @llvm.dbg.value(metadata i32 %9, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  %cmp550 = icmp sgt i32 %9, 0, !dbg !2610\l  br i1 %cmp550, label %while.body.preheader, label %if.end26, !dbg !2610,\l... !prof !2578\l|{<s0>T|<s1>F}}"];
	Node0x55cda428b580:s0 -> Node0x55cda46a53d0;
	Node0x55cda428b580:s1 -> Node0x55cda42fc210;
	Node0x55cda46a53d0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader:                             \l  br label %while.body.peel.begin, !dbg !2610\l}"];
	Node0x55cda46a53d0 -> Node0x55cda448d1c0;
	Node0x55cda448d1c0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.begin:                            \l  br label %while.body.peel, !dbg !2610\l}"];
	Node0x55cda448d1c0 -> Node0x55cda4727490;
	Node0x55cda4727490 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel:                                  \l  %call6.peel = call zeroext i1 @aio_poll(%struct.AioContext* nonnull %call,\l... i1 zeroext true) #14, !dbg !2611\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %10 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2607\l  call void @llvm.dbg.value(metadata i32 %10, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  %cmp5.peel = icmp sgt i32 %10, 0, !dbg !2610\l  br i1 %cmp5.peel, label %while.body.peel.next, label %if.end26.loopexit,\l... !dbg !2610, !prof !2578\l|{<s0>T|<s1>F}}"];
	Node0x55cda4727490:s0 -> Node0x55cda4607310;
	Node0x55cda4727490:s1 -> Node0x55cda44ba5d0;
	Node0x55cda4607310 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next:                             \l  br label %while.body.peel.next62, !dbg !2610\l}"];
	Node0x55cda4607310 -> Node0x55cda4666670;
	Node0x55cda4666670 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.peel.next62:                           \l  br label %while.body.preheader.peel.newph, !dbg !2610\l}"];
	Node0x55cda4666670 -> Node0x55cda46cefc0;
	Node0x55cda46cefc0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body.preheader.peel.newph:                  \l  br label %while.body, !dbg !2610\l}"];
	Node0x55cda46cefc0 -> Node0x55cda42fcf10;
	Node0x55cda42fcf10 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body:                                       \l  %call6 = call zeroext i1 @aio_poll(%struct.AioContext* nonnull %call, i1\l... zeroext true) #14, !dbg !2611\l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %11 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2607\l  call void @llvm.dbg.value(metadata i32 %11, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  %cmp5 = icmp sgt i32 %11, 0, !dbg !2610\l  br i1 %cmp5, label %while.body, label %if.end26.loopexit.loopexit, !dbg\l... !2610, !prof !2578, !llvm.loop !2613\l|{<s0>T|<s1>F}}"];
	Node0x55cda42fcf10:s0 -> Node0x55cda42fcf10;
	Node0x55cda42fcf10:s1 -> Node0x55cda42dcdc0;
	Node0x55cda42fc280 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else:                                          \l  %call7 = call %struct.AioContext* @qemu_get_current_aio_context() #14, !dbg\l... !2614\l  %call8 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2614\l  %cmp9 = icmp eq %struct.AioContext* %call7, %call8, !dbg !2614\l  br i1 %cmp9, label %while.cond12.preheader, label %if.else11, !dbg !2618\l|{<s0>T|<s1>F}}"];
	Node0x55cda42fc280:s0 -> Node0x55cda42f2d80;
	Node0x55cda42fc280:s1 -> Node0x55cda42fd5b0;
	Node0x55cda42f2d80 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.cond12.preheader:                           \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %12 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2619\l  call void @llvm.dbg.value(metadata i32 %12, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  %cmp1551 = icmp sgt i32 %12, 0, !dbg !2621\l  br i1 %cmp1551, label %while.body16.preheader, label %if.end26, !dbg !2621\l|{<s0>T|<s1>F}}"];
	Node0x55cda42f2d80:s0 -> Node0x55cda448d080;
	Node0x55cda42f2d80:s1 -> Node0x55cda42fc210;
	Node0x55cda448d080 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body16.preheader:                           \l  br label %while.body16, !dbg !2621\l}"];
	Node0x55cda448d080 -> Node0x55cda42fbcb0;
	Node0x55cda42fd5b0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.else11:                                        \l  call void @__assert_fail(i8* getelementptr inbounds ([57 x i8], [57 x i8]*\l... @.str, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8], [11 x i8]*\l... @.str.1, i64 0, i64 0), i32 529, i8* getelementptr inbounds ([65 x i8], [65 x\l... i8]* @__PRETTY_FUNCTION__.bdrv_unapply_subtree_drain, i64 0, i64 0)) #15,\l... !dbg !2614\l  unreachable, !dbg !2614\l}"];
	Node0x55cda42fbcb0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{while.body16:                                     \l  br i1 %tobool, label %if.then18, label %if.end24.critedge, !dbg !2622\l|{<s0>T|<s1>F}}"];
	Node0x55cda42fbcb0:s0 -> Node0x55cda42fbe90;
	Node0x55cda42fbcb0:s1 -> Node0x55cda428cac0;
	Node0x55cda42fbe90 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.then18:                                        \l  call void @aio_context_release(%struct.AioContext* nonnull %call) #14, !dbg\l... !2624\l  %call20 = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2622\l  %call21 = call zeroext i1 @aio_poll(%struct.AioContext* %call20, i1 zeroext\l... true) #14, !dbg !2622\l  call void @aio_context_acquire(%struct.AioContext* nonnull %call) #14, !dbg\l... !2627\l  br label %if.end24, !dbg !2627\l}"];
	Node0x55cda42fbe90 -> Node0x55cda42ff0a0;
	Node0x55cda428cac0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end24.critedge:                                \l  %call20.c = call %struct.AioContext* @qemu_get_aio_context() #14, !dbg !2622\l  %call21.c = call zeroext i1 @aio_poll(%struct.AioContext* %call20.c, i1\l... zeroext true) #14, !dbg !2622\l  br label %if.end24, !dbg !2622\l}"];
	Node0x55cda428cac0 -> Node0x55cda42ff0a0;
	Node0x55cda42ff0a0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end24:                                         \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %13 = load atomic i32, i32* %drained_end_counter monotonic, align 4, !dbg\l... !2619\l  call void @llvm.dbg.value(metadata i32 %13, metadata !2555, metadata\l... !DIExpression()), !dbg !2570\l  %cmp15 = icmp sgt i32 %13, 0, !dbg !2621\l  br i1 %cmp15, label %while.body16, label %if.end26.loopexit60, !dbg !2621,\l... !llvm.loop !2630\l|{<s0>T|<s1>F}}"];
	Node0x55cda42ff0a0:s0 -> Node0x55cda42fbcb0;
	Node0x55cda42ff0a0:s1 -> Node0x55cda42f4020;
	Node0x55cda42dcdc0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end26.loopexit.loopexit:                       \l  br label %if.end26.loopexit, !dbg !2586\l}"];
	Node0x55cda42dcdc0 -> Node0x55cda44ba5d0;
	Node0x55cda44ba5d0 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end26.loopexit:                                \l  br label %if.end26, !dbg !2586\l}"];
	Node0x55cda44ba5d0 -> Node0x55cda42fc210;
	Node0x55cda42f4020 [shape=record,penwidth=3.0, style="filled", color="red", fillcolor="yellow",label="{if.end26.loopexit60:                              \l  br label %if.end26, !dbg !2586\l}"];
	Node0x55cda42f4020 -> Node0x55cda42fc210;
	Node0x55cda42fc210 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{if.end26:                                         \l  call void @llvm.dbg.value(metadata i8 undef, metadata !2559, metadata\l... !DIExpression()), !dbg !2588\l  %14 = atomicrmw sub i32* getelementptr inbounds (%struct.AioWait,\l... %struct.AioWait* @global_aio_wait, i64 0, i32 0), i32 1 seq_cst, !dbg !2586\l  call void @llvm.lifetime.end.p0i8(i64 4, i8* nonnull %0) #14, !dbg !2631\l  ret void, !dbg !2631\l}"];
}
